<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Page 2 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://cheonmro.github.io/page/2/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>

  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">

  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Oswald%3A300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >
  <link rel="stylesheet" href="/css/fashion.css" >
  <link rel="stylesheet" href="/css/glyphs.css" >

</head>



  <body>


  


<header id="allheader" class="site-header" role="banner"
   >
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" rel="home" >
                <img style="margin-bottom: 10px;"  width="124px" height="124px" alt="Hike News" src="https://hexo.io/logo.svg">
              </a>
            
          </h1>

          

          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>

            <div class="clearfix sf-menu">
              <ul id="main-nav" class="menu sf-js-enabled sf-arrows"  style="touch-action: pan-y;">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/categories">Categories</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/about">me &amp; projects</a> </li>
                    
              </ul>
            </div>
          </nav>

      </div>
  </div>
</header>


  <div id="container">
    <div id="wrap">

      <div id="content" class="outer">
        
          <section id="main">
  
    <article id="post-facebook-share"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/04/17/facebook-share/">Facebook 공유하기 버튼 만드는 방법</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2019/04/17/facebook-share/" class="article-date">
	  <time datetime="2019-04-17T14:59:09.000Z" itemprop="datePublished">April 17, 2019</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/API/">API</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Facebook-공유하기-버튼-만들기"><a href="#Facebook-공유하기-버튼-만들기" class="headerlink" title="Facebook 공유하기 버튼 만들기"></a>Facebook 공유하기 버튼 만들기</h1><hr>
<p>Facebook 공유하기 버튼은 Facebook에서 제공하는 버튼 이미지를 사용해도 되지만, 여기서는 다른 Facebook 이미지를 버튼(일반 이미지)으로 사용하는 방법으로 해보자.</p>
<p>React에서 코드를 작성하면 다음과 같다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import facebook from &apos;../../image/facebook.png&apos;;</span><br><span class="line"></span><br><span class="line">class Facebook extends Component &#123;</span><br><span class="line">  onClicFacebook = () =&gt; &#123;</span><br><span class="line">    window.open(&apos;https://www.facebook.com/sharer/sharer.php?u=https://naver.com/&apos;)</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div className=&quot;Facebook&quot;&gt;</span><br><span class="line">        &lt;button onClick=&#123;this.onClickFacebook&#125;&gt;&lt;img src=&#123;facebook&#125; alt=&quot;facebook&quot;&gt;&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Facebook;</span><br></pre></td></tr></table></figure></p>
<p>위 코드 중, naver.com 대신 공유할 도메인 주소로 변경하면 된다.</p>
<p><br></p>
<p>공유하기 버튼을 클릭하면, 다음과 같이 나온다.</p>
<p><img src="/images/facebook-share.png" alt="페이스북 공유 페이지"></p>
<p>위 그림에서 공유할 페이지의 이미지, title, description 등은 원하는 대로 변경할 수 있다.</p>
<p>React 폴더 중, index.html에 meta 태그로 추가하면, 공유할 썸네일을 원하는대로 커스텀 할 수 있다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta property=&quot;og:url&quot; content=&quot;https://www.your-domain.com/your-page.html&quot; /&gt;</span><br><span class="line">&lt;meta property=&quot;og:type&quot; content=&quot;website&quot; /&gt;</span><br><span class="line">&lt;meta property=&quot;og:title&quot; content=&quot;Your Website Title&quot; /&gt;</span><br><span class="line">&lt;meta property=&quot;og:description&quot; content=&quot;Your description&quot; /&gt;</span><br><span class="line">&lt;meta property=&quot;og:image&quot; content=&quot;https://www.your-domain.com/path/image.jpg&quot; /&gt;</span><br></pre></td></tr></table></figure></p>
<p><br><br>*페이스북 공유 관련 참고 사이트</p>
<ul>
<li><a href="https://developers.facebook.com/docs/plugins/share-button" target="_blank" rel="noopener">Facebook Developers 1</a></li>
<li><a href="https://developers.facebook.com/tools/debug/sharing/?q=https%3A%2F%2Fprayforgangwon.icon.foundation%2F" target="_blank" rel="noopener">Facebook Developers 2</a></li>
<li><a href="https://developers.facebook.com/docs/sharing/webmasters#markup" target="_blank" rel="noopener">Facebook Developers 3</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/API/">API</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/API/">API</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Facebook-Share/">Facebook Share</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-kakao-share"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/04/17/kakao-share/">Kakao 공유하기 버튼 만드는 방법</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2019/04/17/kakao-share/" class="article-date">
	  <time datetime="2019-04-17T13:15:55.000Z" itemprop="datePublished">April 17, 2019</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/API/">API</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Kakao-공유하기-버튼-만들기"><a href="#Kakao-공유하기-버튼-만들기" class="headerlink" title="Kakao 공유하기 버튼 만들기"></a>Kakao 공유하기 버튼 만들기</h1><hr>
<p>카카오(KakaoDevelopers)에서 제공하는 kakao API를 이용해 카카오톡 공유하기 버튼을 만들 수 있다.</p>
<p>카카오 API를 사용하기 위한 기본 세팅 순서는 다음과 같다.</p>
<ol>
<li><a href="https://developers.kakao.com/" target="_blank" rel="noopener">KakaoDevelopers</a>에 들어가, 본인의 카카오 계정으로 로그인한다.</li>
<li>내 애플리케이션 - 앱 만들기에서 앱의 이름, 회사 이름 및 로고를 추가한다.</li>
<li>각 API에 맞는 키를 받게된다.</li>
<li>설정 - 일반의 <code>플랫폼</code>에서 나의 웹사이트 주소를 추가한다.</li>
<li><code>KakaoDevelopers</code> 사이트의 상단 탭 중 <code>개발가이드</code>를 클릭하면, 다양한 API를 활용하는 가이드가 나온다.</li>
<li>웹 개발을 한다면, JavaScript 개발가이드에서 <code>카카오링크</code>를 클릭한다.</li>
<li><code>카카오링크</code>에서 제공하는 방식에 따라 자유롭게 카카오 sdk를 활용하면 된다.</li>
</ol>
<p><br></p>
<p>React에서 개발 순서는 다음과 같다.</p>
<ol>
<li><code>ìndex.html</code>에 카카오 sdk를 등록한다.</li>
<li>사용할 앱의 JavaScript 키를 설정한다.</li>
<li>카카오링크 버튼을 생성한다.</li>
<li>화면에 보여주기 위해 HTML에 카카오링크 버튼을 추가한다.</li>
</ol>
<p><br></p>
<ol>
<li>React 폴더의 index.html에서 <body> 태그 제일 아래에 sdk 코드 태그를 등록한다.</body></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    &lt;title&gt;React App&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;noscript&gt;You need to enable JavaScript to run this app.&lt;/noscript&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    // 카카오 sdk 등록</span><br><span class="line">    &lt;script src=&quot;//developers.kakao.com/sdk/js/kakao.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p><br></p>
<ol start="2">
<li>사용할 앱의 JavaScript 키를 설정한다.</li>
</ol>
<p>카카오톡 API를 사용하기 위해서는 기본적으로 카카오로부터 받은 키를 사용해야 한다. 여기서는 JavaScript 키를 사용한다.</p>
<p>React에서 사용할 때는, <code>componentDidMount</code>에서 사용할 앱의 JavaScript 키를 설정한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">componentDidMount() &#123;</span><br><span class="line">  window.Kakao.init(&apos;YOUR APP KEY&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>KakaoDevelopers 개발가이드에서는 Kakao.init이라고 나와있지만, React에서 사용할 때는 앞에 window를 사용해야 한다. 왜냐하면, 카카오 sdk를 index.html에 등록했기 때문에, JavaScript 키를 설정하는 컴포넌트에서는 전역 객체로 접근해야 하기 때문에, window.Kakao.init() 이렇게 사용한다.</p>
<p><br></p>
<ol start="3">
<li>카카오링크 버튼을 생성한다.</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">componentDidMount() &#123;</span><br><span class="line">    window.Kakao.Link.createDefaultButton(&#123;</span><br><span class="line">      container: &apos;#kakao-link-btn&apos;,</span><br><span class="line">      objectType: &apos;feed&apos;,</span><br><span class="line">      content: &#123;</span><br><span class="line">        title: &apos;딸기 치즈 케익&apos;,</span><br><span class="line">        description: &apos;#케익 #딸기 #삼평동 #카페 #분위기 #소개팅&apos;,</span><br><span class="line">        imageUrl: &apos;http://mud-kage.kakao.co.kr/dn/Q2iNx/btqgeRgV54P/VLdBs9cvyn8BJXB3o7N8UK/kakaolink40_original.png&apos;,</span><br><span class="line">        link: &#123;</span><br><span class="line">          mobileWebUrl: &apos;https://cheonmro.github.io/&apos;,</span><br><span class="line">          webUrl: &apos;https://cheonmro.github.io/&apos;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      social: &#123;</span><br><span class="line">        likeCount: 286,</span><br><span class="line">        commentCount: 45,</span><br><span class="line">        sharedCount: 845</span><br><span class="line">      &#125;,</span><br><span class="line">      buttons: [</span><br><span class="line">        &#123;</span><br><span class="line">          title: &apos;웹으로 보기&apos;,</span><br><span class="line">          link: &#123;</span><br><span class="line">            mobileWebUrl: &apos;https://cheonmro.github.io/&apos;,</span><br><span class="line">            webUrl: &apos;https://cheonmro.github.io/&apos;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          title: &apos;앱으로 보기&apos;,</span><br><span class="line">          link: &#123;</span><br><span class="line">            mobileWebUrl: &apos;https://cheonmro.github.io/&apos;,</span><br><span class="line">            webUrl: &apos;https://cheonmro.github.io/&apos;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div className=&quot;Kakao&quot;&gt;</span><br><span class="line">        &lt;h2&gt;kakao page&lt;/h2&gt;</span><br><span class="line">        &lt;a id=&quot;kakao-link-btn&quot; href=&quot;javascript:;&quot;&gt;</span><br><span class="line">          &lt;img src=&quot;//developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_medium.png&quot;/&gt;</span><br><span class="line">        &lt;/a&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p><code>container</code>의 <code>#kakao-link-btn</code>은 html의 버튼으로 사용할 id의 이름과 동일해야 한다.<br><code>imageUrl</code>의 위 주소는 카카오에서 기본적으로 제공하는 이미지이다. 만약, 내가 원하는 이미지를 사용하고 싶다면, 다른 이미지 주소로 바꿔주면 된다.</p>
<p><br><br>*custom 이미지 적용하는 방법</p>
<ul>
<li>카카오톡 공유하기 템플릿 중, feed 타입에서 권장하는 사이즈는 800px*800px 이다.</li>
<li>먼저 이미지를 이 사이즈로 만든다. 이미지의 사이즈를 원하는 대로 바꾸고 싶다면, <a href="https://www.iloveimg.com/ko/resize-image/resize-png" target="_blank" rel="noopener">png 크기 조절</a> 사이트에서 사이즈를 변경하면 된다. 이때, 가로/세로 비율 유지를 클릭하지 말고, 800px*800px으로 변경한다.</li>
<li>변경한 이미지를 url 주소로 변경하고 싶다면, <a href="https://ifh.cc/i-K9gAO" target="_blank" rel="noopener">이미지 호스팅</a> 사이트에서 url 주소를 생성하면 된다. 여기서 생성한 Image URL을 위 코드의 <code>imageUrl</code>에 작성하면 된다.</li>
</ul>
<p>위에 작성한 모든 url들은 KakaoDevelopers에서 <code>플랫폼</code>에 등록한 도메인이어야 한다.</p>
<p><br><br>*카카오톡 공유 버튼을 클릭시에 다음과 같은 에러가 나는 경우<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">요청 실패</span><br><span class="line">잘못된 요청입니다.</span><br></pre></td></tr></table></figure></p>
<p>해결책: 설정 - 일반의 <code>플랫폼</code>에 공유할 도메인 뿐만 아니라, <code>http://localhost:3000</code> 또한 등록한다.</p>
<p>위 코드를 기본으로 조금 응용해서, 내가 원하는 버튼 이미지로 카카오톡 공유하기를 사용할 수 있다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import kakao from &apos;../../image/kakao.png&apos;;</span><br><span class="line"></span><br><span class="line">class Kakao extends Component &#123;</span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    window.Kakao.init(&apos;YOUR APP KEY&apos;);</span><br><span class="line"></span><br><span class="line">    window.Kakao.Link.createDefaultButton(&#123;</span><br><span class="line">      container: &apos;#kakao-link-btn&apos;,</span><br><span class="line">      objectType: &apos;feed&apos;,</span><br><span class="line">      content: &#123;</span><br><span class="line">        title: &apos;딸기 치즈 케익&apos;,</span><br><span class="line">        description: &apos;#케익 #딸기 #삼평동 #카페 #분위기 #소개팅&apos;,</span><br><span class="line">        imageUrl: &apos;http://mud-kage.kakao.co.kr/dn/Q2iNx/btqgeRgV54P/VLdBs9cvyn8BJXB3o7N8UK/kakaolink40_original.png&apos;,</span><br><span class="line">        link: &#123;</span><br><span class="line">          mobileWebUrl: &apos;https://cheonmro.github.io/&apos;,</span><br><span class="line">          webUrl: &apos;https://cheonmro.github.io/&apos;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      social: &#123;</span><br><span class="line">        likeCount: 286,</span><br><span class="line">        commentCount: 45,</span><br><span class="line">        sharedCount: 845</span><br><span class="line">      &#125;,</span><br><span class="line">      buttons: [</span><br><span class="line">        &#123;</span><br><span class="line">          title: &apos;웹으로 보기&apos;,</span><br><span class="line">          link: &#123;</span><br><span class="line">            mobileWebUrl: &apos;https://cheonmro.github.io/&apos;,</span><br><span class="line">            webUrl: &apos;https://cheonmro.github.io/&apos;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          title: &apos;앱으로 보기&apos;,</span><br><span class="line">          link: &#123;</span><br><span class="line">            mobileWebUrl: &apos;https://cheonmro.github.io/&apos;,</span><br><span class="line">            webUrl: &apos;https://cheonmro.github.io/&apos;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  onClickKakao = () =&gt; &#123;</span><br><span class="line">    window.open(&apos;https://sharer.kakao.com/talk/friends/picker/link&apos;)</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div className=&quot;Kakao&quot;&gt;</span><br><span class="line">        &lt;button id=&quot;kakao-link-btn&quot; onClick=&#123;this.onClickKakao&#125;&gt;&lt;img src=&#123;kakao&#125; alt=&quot;kakao&quot; /&gt;&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Kakao;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/API/">API</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/API/">API</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Kakao-Share/">Kakao Share</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-merge-branches"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/04/13/merge-branches/">여러 사람이 작업한 branch를 merge하는 방법</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2019/04/13/merge-branches/" class="article-date">
	  <time datetime="2019-04-13T08:10:36.000Z" itemprop="datePublished">April 13, 2019</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Git/">Git</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="원격저장소에-push-되어있는-branch들을-dev-브랜치로-merge-하는-방법"><a href="#원격저장소에-push-되어있는-branch들을-dev-브랜치로-merge-하는-방법" class="headerlink" title="원격저장소에 push 되어있는 branch들을 dev 브랜치로 merge 하는 방법"></a>원격저장소에 push 되어있는 branch들을 dev 브랜치로 merge 하는 방법</h1><hr>
<p>예시: 두 사람이(A와 B) <code>login</code> 브랜치와 <code>text</code> 브랜치를 따로 따서, 각각 원격에 push하고, 이 브랜치들을 dev 브랜치에 merge하는 과정을 순서대로 나열하면 다음과 같다.</p>
<p><br></p>
<h4 id="1-A라는-사람이-자신의-로컬에-있는-login-브랜치를-원격-저장소에-있는-login-브랜치에-push-한다"><a href="#1-A라는-사람이-자신의-로컬에-있는-login-브랜치를-원격-저장소에-있는-login-브랜치에-push-한다" class="headerlink" title="1. A라는 사람이 자신의 로컬에 있는 login 브랜치를 원격 저장소에 있는  login 브랜치에 push 한다."></a>1. A라는 사람이 자신의 로컬에 있는 <code>login</code> 브랜치를 원격 저장소에 있는  <code>login</code> 브랜치에 push 한다.</h4><hr>
<p><code>git add .</code></p>
<p><code>git commit -m &quot;add login functions</code></p>
<p><code>git push origin login</code></p>
<p><br></p>
<h4 id="2-B라는-사람이-자신의-로컬에-있는-text-브랜치를-원격-저장소에-있는-text-브랜치에-push-한다"><a href="#2-B라는-사람이-자신의-로컬에-있는-text-브랜치를-원격-저장소에-있는-text-브랜치에-push-한다" class="headerlink" title="2. B라는 사람이 자신의 로컬에 있는 text 브랜치를 원격 저장소에 있는  text 브랜치에 push 한다."></a>2. B라는 사람이 자신의 로컬에 있는 <code>text</code> 브랜치를 원격 저장소에 있는  <code>text</code> 브랜치에 push 한다.</h4><hr>
<p><code>git add .</code></p>
<p><code>git commit -m &quot;add text functions</code></p>
<p><code>git push origin text</code></p>
<p><br></p>
<h4 id="3-merge를-담당하는-사람이-자신의-로컬에-있는-dev-브랜치에-원격에-있는-두-브랜치를-모두-merge-한다"><a href="#3-merge를-담당하는-사람이-자신의-로컬에-있는-dev-브랜치에-원격에-있는-두-브랜치를-모두-merge-한다" class="headerlink" title="3. merge를 담당하는 사람이 자신의 로컬에 있는 dev 브랜치에 원격에 있는 두 브랜치를 모두 merge 한다."></a>3. merge를 담당하는 사람이 자신의 로컬에 있는 dev 브랜치에 원격에 있는 두 브랜치를 모두 merge 한다.</h4><hr>
<p>로컬에서 원격 브랜치에 접근하기 위해서는 다음의 명령어를 실행해야 한다.</p>
<p><code>git remote update</code></p>
<p>이는, 현재 원격에 있는 브랜치들을 갱신하여, 원격 브랜치들을 tracking 할 수 있게 한다.(remote-tracking branches set up locally)</p>
<p>fetch와 동일하다.</p>
<p>참고: <a href="https://cjh5414.github.io/get-git-remote-branch/" target="_blank" rel="noopener">git remote branch 가져오기</a></p>
<p><br></p>
<h4 id="4-로컬의-dev-브랜치로-이동한다"><a href="#4-로컬의-dev-브랜치로-이동한다" class="headerlink" title="4. 로컬의 dev 브랜치로 이동한다."></a>4. 로컬의 dev 브랜치로 이동한다.</h4><hr>
<p><code>git checkout dev</code></p>
<p>로컬의 dev 브랜치로 이동하여, 원격에 push 되어있는 새로운 브랜치(login/text)를 merge를 해야한다.</p>
<p><br></p>
<h4 id="5-원격에-push-되어있는-새로운-브랜치-login-text-를-merge-한다"><a href="#5-원격에-push-되어있는-새로운-브랜치-login-text-를-merge-한다" class="headerlink" title="5. 원격에 push 되어있는 새로운 브랜치(login/text)를 merge 한다."></a>5. 원격에 push 되어있는 새로운 브랜치(login/text)를 merge 한다.</h4><hr>
<p><code>login</code> 브랜치 merge</p>
<p><code>git merge origin/login</code></p>
<p><code>text</code> 브랜치 merge</p>
<p><code>git merge origin/text</code></p>
<p>이때 겹치는 코드가 있다면 충돌(conflict)이 일어날 수 있다. 충돌이 난다면, 코드를 보면서 적절하게 고치면 된다.</p>
<p><br></p>
<h4 id="6-모든-브랜치들을-로컬의-dev-브랜치로-merge-했다면-이-dev-브랜치를-원격으로-push-한다"><a href="#6-모든-브랜치들을-로컬의-dev-브랜치로-merge-했다면-이-dev-브랜치를-원격으로-push-한다" class="headerlink" title="6. 모든 브랜치들을 로컬의 dev 브랜치로 merge 했다면, 이 dev 브랜치를 원격으로 push 한다."></a>6. 모든 브랜치들을 로컬의 dev 브랜치로 merge 했다면, 이 dev 브랜치를 원격으로 push 한다.</h4><hr>
<p><code>git push origin dev</code></p>
<p><br><br>참고: <a href="https://stackoverflow.com/questions/28163022/merge-two-remote-branches-in-a-git-repository" target="_blank" rel="noopener">remote-tracking branches set up locally</a></p>
<p><br></p>
<h4 id="7-merge된-원격-dev-브랜치를-다른-팀원이-로컬로-받아와-코드를-동일하게-해야-한다"><a href="#7-merge된-원격-dev-브랜치를-다른-팀원이-로컬로-받아와-코드를-동일하게-해야-한다" class="headerlink" title="7. merge된 원격 dev 브랜치를 다른 팀원이 로컬로 받아와, 코드를 동일하게 해야 한다."></a>7. merge된 원격 dev 브랜치를 다른 팀원이 로컬로 받아와, 코드를 동일하게 해야 한다.</h4><hr>
<p>자신의 로컬의 dev 브랜치에서, 원격에 있는 dev 브랜치의 코드와 동일하게 하기 위해서는, 다음의 명령어를 사용해야 한다.</p>
<p><code>git pull origin dev</code></p>
<p>이렇게 하면, 모든 새로운 기능들이 추가된 코드를 모든 팀원이 공유하게 되고, 다시 새로운 브랜치를 따서 새로운 기능을 개발하면 된다.</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Git/">Git</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/">Git</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-create-git-project"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/04/13/create-git-project/">Git으로 프로젝트 생성하는 방법</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2019/04/13/create-git-project/" class="article-date">
	  <time datetime="2019-04-13T07:32:42.000Z" itemprop="datePublished">April 13, 2019</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Git/">Git</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Git으로-프로젝트-생성하여-다른-사람이-작업을-시작할-수-있게-하기-위한-초기-세팅-과정"><a href="#Git으로-프로젝트-생성하여-다른-사람이-작업을-시작할-수-있게-하기-위한-초기-세팅-과정" class="headerlink" title="Git으로 프로젝트 생성하여 다른 사람이 작업을 시작할 수 있게 하기 위한 초기 세팅 과정"></a>Git으로 프로젝트 생성하여 다른 사람이 작업을 시작할 수 있게 하기 위한 초기 세팅 과정</h1><hr>
<h4 id="1-Github-Gitlab-등에서-Repository-생성"><a href="#1-Github-Gitlab-등에서-Repository-생성" class="headerlink" title="1. Github/Gitlab 등에서 Repository 생성"></a>1. Github/Gitlab 등에서 Repository 생성</h4><hr>
<p>Github/Gitlab 등에서 README.md 파일을 포함하여 Repository를 생성한다.</p>
<p><br></p>
<h4 id="2-로컬에서-clone-하기"><a href="#2-로컬에서-clone-하기" class="headerlink" title="2. 로컬에서 clone 하기"></a>2. 로컬에서 clone 하기</h4><hr>
<p>로컬에서 <code>git clone https://github.com/cheonmro/testgit.git</code> 명령어를 실행하여, 원격 저장소를 clone 한다.</p>
<p><br></p>
<h4 id="3-clone-한-폴더-안에서-프로젝트-폴더를-생성"><a href="#3-clone-한-폴더-안에서-프로젝트-폴더를-생성" class="headerlink" title="3. clone 한 폴더 안에서 프로젝트 폴더를 생성"></a>3. clone 한 폴더 안에서 프로젝트 폴더를 생성</h4><hr>
<p>리액트 프로젝트의 경우, <code>create-react-app testgit</code> 와 같이 새로운 프로젝트 폴더를 생성한다.</p>
<p><br></p>
<h4 id="4-원격으로-push-하기-master-브랜치-셋업"><a href="#4-원격으로-push-하기-master-브랜치-셋업" class="headerlink" title="4. 원격으로 push 하기(master 브랜치 셋업)"></a>4. 원격으로 push 하기(master 브랜치 셋업)</h4><hr>
<p>다음과 같이, 원격 저장소로 로컬에 새로 생성한 프로젝트 폴더를 push한다.</p>
<p><code>git add .</code></p>
<p><code>git commit -m &quot;add create-react-app</code></p>
<p><code>git push origin master</code></p>
<p>이렇게 하면, 원격 저장소와 로컬 저장소에 기본적인 리액트 프로젝트 폴더가 들어가게 세팅이 된다.</p>
<p>그러나, 실제 프로젝트 개발시에는 dev 브랜치를 이용해서 하기 때문에, master 브랜치는 여기까지만 생성하고, dev 브랜치를 이용해야 한다.</p>
<p><br></p>
<h4 id="5-로컬에서-dev-브랜치-생성"><a href="#5-로컬에서-dev-브랜치-생성" class="headerlink" title="5. 로컬에서 dev 브랜치 생성"></a>5. 로컬에서 dev 브랜치 생성</h4><hr>
<p>로컬에서 다음의 명령어로 dev 브랜치를 생성한다.</p>
<p><code>git checkout -b dev</code></p>
<p><code>checkout</code>과 <code>-b</code>를 같이 사용하면, dev 브랜치를 생성하면서 동시에 dev 브랜치로 이동하게 된다.</p>
<p><br></p>
<h4 id="6-생성한-dev-브랜치에서-프로젝트를-위한-전반적인-폴더-구조-셋업"><a href="#6-생성한-dev-브랜치에서-프로젝트를-위한-전반적인-폴더-구조-셋업" class="headerlink" title="6. 생성한 dev 브랜치에서 프로젝트를 위한 전반적인 폴더 구조 셋업"></a>6. 생성한 dev 브랜치에서 프로젝트를 위한 전반적인 폴더 구조 셋업</h4><hr>
<p>현재는 <code>create-react-app</code>으로 만들어진 기본적인 구조밖에 없다. 여기서 우리가 만들 프로젝트에 대한 전반적인 구조를 만들어야 한다.</p>
<p><br></p>
<h4 id="7-새롭게-셋업된-로컬의-dev-브랜치를-push-하기"><a href="#7-새롭게-셋업된-로컬의-dev-브랜치를-push-하기" class="headerlink" title="7. 새롭게 셋업된 로컬의 dev 브랜치를 push 하기"></a>7. 새롭게 셋업된 로컬의 dev 브랜치를 push 하기</h4><hr>
<p>새롭게 프로젝트를 만들었다면, 로컬의 dev 브랜치를 원격저장소에 push 해야한다.</p>
<p><code>git add .</code></p>
<p><code>git commit -m &quot;add project-structure</code></p>
<p><code>git push origin dev</code></p>
<p>이렇게 하여, 본격적인 프로젝트를 시작하기 위한 dev 브랜치가 완성되었다. 이제부터는 각 팀원이 git clone을 하여 각 컴퓨터 로컬에 내려받고, 거기서 각자가 맡은 기능별로 브랜치를 새로 생성하여 개발을 시작하면 된다.</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Git/">Git</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/">Git</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-how-ethereum-transaction-works"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/04/06/how-ethereum-transaction-works/">How Ethereum Transaction Works</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2019/04/06/how-ethereum-transaction-works/" class="article-date">
	  <time datetime="2019-04-06T05:42:11.000Z" itemprop="datePublished">April 6, 2019</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Ethereum/">Ethereum</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="이더리움-트랜잭션-작동원리"><a href="#이더리움-트랜잭션-작동원리" class="headerlink" title="이더리움 트랜잭션 작동원리"></a>이더리움 트랜잭션 작동원리</h1><hr>
<ol>
<li>EOA(사용자 계정)가 트랜잭션을 발생(발생한 트랜잭션에는 nonce/to/value/gasLimit/gasPrice/data 등이 들어감)</li>
<li>발생한 트랜잭션을 사용자가 가지고 있는 지갑의 pk로 전자서명(Sign)을 함(전자 서명 암호화 방식)</li>
<li>Sign된 트랜잭션을 이더리움 네트워크의 노드들에게 보냄(트랜잭션을 브로드캐스트)</li>
<li>노드(채굴자)들은 해당 트랜잭션의 유효성 검증을 함<ol>
<li>해당 트랜잭션이 문법에 맞게 구성되었는지</li>
<li>사용자의 공개 키를 사용하여 해당 전자 서명이 유효한지</li>
<li>사용자 어카운트에 있는 Nonce와 맞는지</li>
</ol>
</li>
<li>해당 트랜잭션이 유효하면, 해당 트랜잭션은 트랜잭션 풀(Tx pool)에 보관됨</li>
<li>채굴자들은 수수료가 높은 순서대로 트랜잭션을 처리함</li>
<li>여러 트랜잭션이 블록에 포함되고 블록이 생성되면, 모든 노드들에게 신규 블록이 전달됨(신규 블록 브로드캐스트)</li>
</ol>
<p><br></p>
<h1 id="Ethereum-API를-활용한-트랜잭션-만드는-방법"><a href="#Ethereum-API를-활용한-트랜잭션-만드는-방법" class="headerlink" title="Ethereum API를 활용한 트랜잭션 만드는 방법"></a>Ethereum API를 활용한 트랜잭션 만드는 방법</h1><hr>
<p>Ethereum API를 활용해서 다음과 같은 기능을 만들어 보자.</p>
<ul>
<li>이더리움 지갑 및 key 생성</li>
<li>balance 조회</li>
<li>transfer</li>
<li>토큰 정보 가져오기</li>
</ul>
<p>위 기능들을 React에서 만들어 보자.</p>
<p><br></p>
<h1 id="1-이더리움-지갑-및-key-생성"><a href="#1-이더리움-지갑-및-key-생성" class="headerlink" title="1. 이더리움 지갑 및 key 생성"></a>1. 이더리움 지갑 및 key 생성</h1><hr>
<p>이더리움의 지갑을 만들기 위해서는 이더리움에서 제공하는 ‘ethereumjs-wallet’ 라이브러리를 사용해야 한다.</p>
<p>‘ethereumjs-wallet’ 설치<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install ethereumjs-wallet</span><br></pre></td></tr></table></figure></p>
<p>리액트에서 코드는 다음과 같다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import Wallet from &apos;ethereumjs-wallet&apos;;</span><br><span class="line"></span><br><span class="line">class MultiWallets extends Component &#123;</span><br><span class="line"></span><br><span class="line">      constructor(props) &#123;</span><br><span class="line">        super(props);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    generateWallet = () =&gt; &#123;</span><br><span class="line">      let wallet = Wallet.generate();</span><br><span class="line">      let address = &apos;0x&apos; + wallet.getAddress().toString(&apos;hex&apos;);</span><br><span class="line">      let privKey = wallet.getPrivateKey().toString(&apos;hex&apos;);</span><br><span class="line">      let pubKey = wallet.getPublicKey().toString(&apos;hex&apos;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">      return (</span><br><span class="line">        &lt;div className=&quot;MultiWallets&quot;&gt;</span><br><span class="line">          &lt;button onClick=&#123;() =&gt; this.generateWallet()&#125;&gt;Generate a Wallet&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>위 코드는 button을 클릭하면, wallet과 wallet의 address, private key, 그리고 public key를 생성할 수 기능이다.</p>
<ul>
<li>generate() 함수를 사용하여, wallet을 생성한다. 생성한 wallet의 getAddress() 함수를 이용하여 주소값을 만드는데, 이더리움은 ‘0x’를 포함한 hex string으로 값을 만든다. 그래서, toString(‘hex’)와 앞에 ‘0x’를 붙여 address 값을 만든다.</li>
<li>생성한 wallet의 getPrivateKey() 함수와 getPublicKey() 함수를 이용해서 private key와 public key를 생성한다.</li>
</ul>
<p><br></p>
<h1 id="2-지갑의-balance-조회"><a href="#2-지갑의-balance-조회" class="headerlink" title="2. 지갑의 balance 조회"></a>2. 지갑의 balance 조회</h1><hr>
<p>이더리움 지갑의 balance를 조회하기 위해서는 이더리움에서 제공하는 web3 라이브러리를 사용해야 한다.</p>
<p>web3 설치</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install web3</span><br></pre></td></tr></table></figure>
<p>리액트에서 코드는 다음과 같다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">import Wallet from &apos;ethereumjs-wallet&apos;;</span><br><span class="line">import Web3 from &apos;web3&apos;;</span><br><span class="line"></span><br><span class="line">class MultiWallets extends Component &#123;</span><br><span class="line"></span><br><span class="line">      constructor(props) &#123;</span><br><span class="line">        super(props);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    componentWillMount() &#123;</span><br><span class="line">      window.web3 = new Web3(new Web3.providers.HttpProvider(&apos;https://ropsten.infura.io/v3/API_KEY&apos;))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    getBalance = () =&gt; &#123;</span><br><span class="line">        // 여기서 account는 위에서 만든 address이다.</span><br><span class="line">        const &#123; account &#125; = this.state;</span><br><span class="line">        window.web3.eth.getBalance(account).then(console.log)</span><br><span class="line">        window.web3.eth.getBalance(&apos;0xBF345977799290F574dB970366CF1712AdCd0632&apos;).then(console.log)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">      return (</span><br><span class="line">        &lt;div className=&quot;MultiWallets&quot;&gt;</span><br><span class="line">          &lt;button onClick=&#123;() =&gt; this.getBalance()&#125;&gt;Get Balance&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>위 코드는 버튼을 클릭하면, balance를 조회하는 기능이다.</p>
<ul>
<li>web3를 사용하기 위해서는 우선, new 연산자를 이용해 web3 인스턴스를 생성하고, HttpProvider를 이용해서 이더리움 네트워크와 연결해야 한다.(위 코드는 이더리움의 테스트넷인 Ropsten의 infura API를 사용하여 infura에서 얻은 API_KEY로 노드를 연결했다.)</li>
<li>만약, Private 블록체인으로 연결하고 싶다면, localhost:8545로 연결하면 된다.</li>
<li>web3.eth의 getBalance() 함수를 이용해 내가 가진 지갑주소의 balance를 확인할 수 있다.</li>
</ul>
<p>*<a href="https://infura.io/" target="_blank" rel="noopener">infura</a></p>
<ul>
<li>infura는 개발자가 API KEY만으로도 이더리움의 메인넷 또는 테스트넷에 접근을 가능하게 한다.</li>
<li>infura를 로그인하면 API KEY와 ENDPOINT를 제공해준다.</li>
<li>web3의 HttpProvider를 사용해서 이더리움 네트워크에 연결할 때, infura에서 제공하는 ENDPOINT를 사용하면 된다.</li>
</ul>
<p><br></p>
<h1 id="3-transfer"><a href="#3-transfer" class="headerlink" title="3. transfer"></a>3. transfer</h1><hr>
<p>transfer(송금) 기능을 만들기 위해서는, transaction을 생성하고, 서명하여 전송하면 된다.</p>
<p>리액트에서 코드는 다음과 같다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">import Wallet from &apos;ethereumjs-wallet&apos;;</span><br><span class="line">import Web3 from &apos;web3&apos;;</span><br><span class="line"></span><br><span class="line">class MultiWallets extends Component &#123;</span><br><span class="line"></span><br><span class="line">      constructor(props) &#123;</span><br><span class="line">        super(props);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    componentWillMount() &#123;</span><br><span class="line">      window.web3 = new Web3(new Web3.providers.HttpProvider(&apos;https://ropsten.infura.io/v3/API_KEY&apos;))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sendTransaction = () =&gt; &#123;</span><br><span class="line">        const &#123; account &#125; = this.state;</span><br><span class="line">        const sendAccount = &apos;0xBF345977799290F574dB970366CF1712AdCd0632&apos;;</span><br><span class="line"></span><br><span class="line">        // 1. check the number of nonce</span><br><span class="line">        window.web3.eth.getTransactionCount(sendAccount, (err, txCount) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">            // 2. create transaction</span><br><span class="line">            const txObject = &#123;</span><br><span class="line">                nonce: window.web3.utils.toHex(txCount),</span><br><span class="line">                to: account,</span><br><span class="line">                gasLimit: window.web3.utils.toHex(1000000),</span><br><span class="line">                gasPrice: window.web3.utils.toHex(window.web3.utils.toWei(&apos;10&apos;, &apos;gwei&apos;)),</span><br><span class="line">                value: window.web3.utils.toHex(window.web3.utils.toWei(&apos;0.01&apos;, &apos;ether&apos;))</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            const tx = new Tx(txObject)</span><br><span class="line"></span><br><span class="line">            // 3. Sign transaction</span><br><span class="line">            // a private key of the sendAccount</span><br><span class="line">            const privateKey = &apos;BE43625EA38CF1FA2D09D057F2E0AB36899E28338E2BCB698CFA6F066EDDF04C&apos;;</span><br><span class="line">            const _privateKey = Buffer.from(privateKey, &apos;hex&apos;);</span><br><span class="line">            tx.sign(_privateKey)</span><br><span class="line"></span><br><span class="line">            // 4. Send transaction</span><br><span class="line">            const serializedTx = &apos;0x&apos; + tx.serialize().toString(&apos;hex&apos;);</span><br><span class="line">            window.web3.eth.sendSignedTransaction(serializedTx, function(err, txId) &#123;</span><br><span class="line">                console.log(&apos;serializedTx:&apos;, serializedTx)</span><br><span class="line">                if(!err) &#123;</span><br><span class="line">                    console.log(&apos;txId:&apos;, txId)</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    console.log(&apos;err:&apos;, err)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">      return (</span><br><span class="line">        &lt;div className=&quot;MultiWallets&quot;&gt;</span><br><span class="line">          &lt;button onClick=&#123;() =&gt; this.sendTransaction()&#125;&gt;Send Transaction&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>위 코드는 버튼을 클릭하면, transaction을 발생시키는 기능이다.</p>
<p>transaction을 발생시키기 위한 단계는 다음과 같다.</p>
<ol>
<li>nonce 값 구하기</li>
<li>transaction 생성</li>
<li>transaction 서명</li>
<li>transaction 보내기</li>
</ol>
<p><br></p>
<h2 id="1-nonce-값-구하기"><a href="#1-nonce-값-구하기" class="headerlink" title="1. nonce 값 구하기"></a>1. nonce 값 구하기</h2><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">window.web3.eth.getTransactionCount(sendAccount, (err, txCount) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>getTransactionCount() 함수를 사용하여 nonce값을 구하는데, getTransactionCount() 함수 안에 인자 <code>txCount</code>가 nonce 값이다. nonce값이란, 해당 transaction을 발생시키는 account가 발생시킨 총 transaction의 수를 말한다.</p>
<p><br></p>
<h2 id="2-transaction-생성"><a href="#2-transaction-생성" class="headerlink" title="2. transaction 생성"></a>2. transaction 생성</h2><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import Tx from &apos;ethereumjs-tx&apos;;</span><br><span class="line"></span><br><span class="line">// 1. transaction 생성에 필요한 txObject 생성</span><br><span class="line">const txObject = &#123;</span><br><span class="line">    nonce: window.web3.utils.toHex(txCount),</span><br><span class="line">    to: account,</span><br><span class="line">    gasLimit: window.web3.utils.toHex(1000000),</span><br><span class="line">    gasPrice: window.web3.utils.toHex(window.web3.utils.toWei(&apos;10&apos;, &apos;gwei&apos;)),</span><br><span class="line">    value: window.web3.utils.toHex(window.web3.utils.toWei(&apos;0.01&apos;, &apos;ether&apos;))</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// 2. &apos;ethereumjs-tx&apos; 라이브러리를 이용해 tx 인스턴스 생성</span><br><span class="line">const tx = new Tx(txObject)</span><br></pre></td></tr></table></figure>
<p>transaction을 생성하기 위해 필요한 txObject를 만들어야 하는데, 이 txObject에는 위와 같은 값들이 들어간다. web3의 utils에 있는 toHex() 함수를 이용해 값들을 hex 값으로 만들었는데, 위 코드의 값들은 예시로 작성한 것이다.</p>
<p>참고로, toWei() 함수는 인자로 들어간 값을 Wei 단위로 변환한다는 뜻이다. 예를 들어, window.web3.utils.toWei(‘10’, ‘gwei’)이면, 10 gwei 값을 wei 값으로 변환하라는 뜻이다.</p>
<p>위에서 만든 txObject를 가지고 transaction을 생성하기 위해서는 <code>ethereumjs-tx</code> 라이브러리를 사용해 tx를 생성한다.</p>
<p><br></p>
<h2 id="3-transaction-서명"><a href="#3-transaction-서명" class="headerlink" title="3. transaction 서명"></a>3. transaction 서명</h2><hr>
<p>이더리움에서 transaction을 서명(=== 전자서명)할 때는, 수신자의 private key를 가지고 transaction을 서명한다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// a private key of the sendAccount</span><br><span class="line">const privateKey = &apos;PK&apos;;</span><br><span class="line">const _privateKey = Buffer.from(privateKey, &apos;hex&apos;);</span><br><span class="line">tx.sign(_privateKey)</span><br></pre></td></tr></table></figure>
<p>private key로 서명하기 위해서는 private key 값을 buffer 타입으로 변경하여 사용해야 한다.</p>
<p>buffer 타입이란, Unit8Array 타입으로, 값들이 배열(‘[]’)에 들어가 있다. 처음에 generate() 함수로 wallet을 생성했을 때, 그 wallet 안에 들어있는 private key 값의 타입은 Unit8Array 타입으로 되어있다. 이 private key 값을 위에서 hex 값으로 변경해서 사용했었는데, 이 값을 다시 buffer 타입으로 변경해서 Sign 할 때 사용해야 한다.</p>
<p><br></p>
<h2 id="4-transaction-보내기"><a href="#4-transaction-보내기" class="headerlink" title="4. transaction 보내기"></a>4. transaction 보내기</h2><hr>
<p>서명된 transaction을 serialize하여 sendSignedTransaction() 함수를 이용해 transaction을 보낸다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 1. serialize transaction</span><br><span class="line">const serializedTx = &apos;0x&apos; + tx.serialize().toString(&apos;hex&apos;);</span><br><span class="line"></span><br><span class="line">// 2. send signed transaction</span><br><span class="line">window.web3.eth.sendSignedTransaction(serializedTx, function(err, txId) &#123;</span><br><span class="line">    console.log(&apos;serializedTx:&apos;, serializedTx)</span><br><span class="line">    if(!err) &#123;</span><br><span class="line">        console.log(&apos;txId:&apos;, txId)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        console.log(&apos;err:&apos;, err)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Serialization이란, 네트워크를 통해 데이터를 주고 받을 때, 서로간에 공유하는 규칙이 있는데, 이 규칙에 맞게 데이터를 출력하는 것을 말한다.</p>
<p>sendSignedTransaction() 함수를 사용해 얻은 txId 값은, 이 transaction의 txHash값이 되고, 즉 transaction id가 된다. 이 txHash값으로 <a href="https://etherscan.io/" target="_blank" rel="noopener">Ether Scan</a>에서 이 transaction에 대한 거래내역을 확인할 수 있다.</p>
<p>참고: <a href="https://medium.com/@majecty/%EB%B9%84%ED%8A%B8%EC%BD%94%EC%9D%B8%EA%B3%BC-%EC%9D%B4%EB%8D%94%EB%A6%AC%EC%9B%80%EC%97%90%EC%84%9C-%EC%A7%81%EC%A0%91-serialize%EB%A5%BC-%EA%B5%AC%ED%98%84%ED%95%9C-%EC%9D%B4%EC%9C%A0-adb52f3307a8" target="_blank" rel="noopener">Serialization</a></p>
<p><br></p>
<h1 id="4-토큰-정보-가져오기"><a href="#4-토큰-정보-가져오기" class="headerlink" title="4. 토큰 정보 가져오기"></a>4. 토큰 정보 가져오기</h1><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">import Web3 from &apos;web3&apos;;</span><br><span class="line">import &#123; erc20Abi &#125; from &apos;../constant/abi&apos;;</span><br><span class="line">import &#123; ethToken &#125; from &apos;../constant/ethToken&apos;</span><br><span class="line"></span><br><span class="line">class MultiWallets extends Component &#123;</span><br><span class="line"></span><br><span class="line">      constructor(props) &#123;</span><br><span class="line">        super(props);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    addToken = () =&gt; &#123;</span><br><span class="line">        // Omisego token</span><br><span class="line">        const tokenAddress = &apos;0xd26114cd6EE289AccF82350c8d8487fedB8A0C07&apos;;</span><br><span class="line">        let token = window.web3.eth.Contract(erc20Abi, tokenAddress)</span><br><span class="line"></span><br><span class="line">        // get token info</span><br><span class="line">        const tokenInfo = ethToken.filter((token) =&gt; &#123;</span><br><span class="line">            return token.address.toLowerCase() === tokenAddress.toLowerCase()</span><br><span class="line">        &#125;);</span><br><span class="line">        console.log(&apos;tokenInfo:&apos;, tokenInfo)</span><br><span class="line">        console.log(&apos;symbol:&apos;, tokenInfo[0].symbol)</span><br><span class="line">        console.log(&apos;decimal:&apos;, tokenInfo[0].decimal)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">      return (</span><br><span class="line">        &lt;div className=&quot;MultiWallets&quot;&gt;</span><br><span class="line">          &lt;button onClick=&#123;() =&gt; this.addToken()&#125;&gt;Add Token&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>위 코드는 addToken 버튼을 클릭하면, 해당 토큰의 정보를 가져올 수 있는 기능이다.</p>
<p>각 토큰은 토큰의 address를 가지고 있다. web3의 Contract() 함수를 사용하면 토큰의 정보를 가져올 수 있다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new web3.eth.Contract(jsonInterface, address, options)</span><br></pre></td></tr></table></figure></p>
<p>Contract() 함수안에 <code>jsonInterface</code>는 abi 파일로써, contract가 인스턴스화하기에 필요한 json interface 파일이다.(abi 파일)</p>
<p>위 코드의 <code>ethToken</code>는 이더리움의 모든 토큰에 대한 정보를 모아놓은 파일이다. 즉, 선택한 토큰이 이 파일안에 있는 모든 이더리움 토큰과 비교해 해당 토큰을 찾아 그 토큰에 대한 정보를 가져오는 방식으로 코드를 작성했다.</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Ethereum/">Ethereum</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ethereum/">Ethereum</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Transaction/">Transaction</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-ethereum-state-transition-model"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/04/02/ethereum-state-transition-model/">Ethereum State Transition Model(이더리움 상태 전이 모델)</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2019/04/02/ethereum-state-transition-model/" class="article-date">
	  <time datetime="2019-04-01T17:09:26.000Z" itemprop="datePublished">April 2, 2019</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Ethereum/">Ethereum</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="정의"><a href="#정의" class="headerlink" title="정의"></a>정의</h1><hr>
<p>이더리움 네트워크에서는 트랜잭션이 발생할 때마다, 이에 대한 신뢰 여부를 채굴자들의 합의하에 블록을 생성하여 모든 트랜잭션을 처리한다. 이렇게 트랜잭션을 처리하게 되면, 관련된 Account의 상태가 변화하게 된다. 즉, 이더리움은 이와 같이 상태가 변화하는 상태 전이 과정을 기반으로 작동한다.</p>
<p><strong>트랜잭션 발생 -&gt; 블록 생성 -&gt; 관련된 Account의 상태 변화</strong></p>
<p>모든 Account의 상태 정보는 블록과 블록 내에 연결된 머클 패트리시아 트리로 저장되고 관리된다.</p>
<p><br></p>
<h1 id="상태-전이-State-Transition"><a href="#상태-전이-State-Transition" class="headerlink" title="상태 전이(State Transition)"></a>상태 전이(State Transition)</h1><hr>
<p><strong>상태 전이란, 특정 시점의 현재 상태 S가 상태 전이 함수(APPLY())에 의해 다른 상태(S’)로 전이되거나 전이에 실패하고 이전 상태로 복귀되는 것을 말한다.</strong><br>Account의 상태는 상태 전이 함수에 의해 전이된다.</p>
<p>APPLY(S, TX) -&gt; S’<br>[S: 현재 상태] -&gt; (APPLY: 상태 전이 함수) -&gt; [S’: 전이된 상태 또는 실패]</p>
<p>상태 전이 함수</p>
<ul>
<li>개인 Account간의 송금 등에 의한 트랜잭션</li>
<li>이더리움 가상 머신에서 실행되는 프로그램인 스마트 컨트랙트에 의한 트랜잭션</li>
</ul>
<p><img src="/images/state-transition.png" alt="State Transition"><br>출처: <a href="https://steemkr.com/kr/@brownbears/52kjic" target="_blank" rel="noopener">State Transition</a></p>
<p><br></p>
<h1 id="이더리움-단일-상태-전이"><a href="#이더리움-단일-상태-전이" class="headerlink" title="이더리움 단일 상태 전이"></a>이더리움 단일 상태 전이</h1><hr>
<p><strong>이더리움의 상태(State)는 복수의 상태 변이를 갖지 못하고, 단 하나의 상태 변이만을 갖는다. 즉, Account의 특정 시점의 한 상태는 상태 전이 함수를 통해 단 하나의 상태(single state)로만 전이된다는 것이다. 만약, 하나의 상태가 여러 개의 상태로 전이된다면, 채굴자들은 어떤 상태가 맞는 것인지 판단하고 합의 할 수 없다.</strong></p>
<p><img src="/images/single-state.png" alt="Ethereum Single State Transition"><br>출처: <a href="https://medium.com/@preethikasireddy/how-does-ethereum-work-anyway-22d1df506369" target="_blank" rel="noopener">Ethereum Single State Transition</a></p>
<p><br></p>
<h1 id="상태-전이-프로세스"><a href="#상태-전이-프로세스" class="headerlink" title="상태 전이 프로세스"></a>상태 전이 프로세스</h1><hr>
<ol>
<li>기본 트랜잭션 형식 확인</li>
<li>Gas 값 수수료 계산 및 잔고 확인</li>
<li>기본 트랜잭션 형식 확인<ol>
<li>트랜잭션의 형식이 맞는지 확인</li>
<li>서명이 유효한지 확인</li>
<li>Nonce가 발신처 Account의 Nonce와 일치하는지 확인</li>
<li>트랜잭션이 유효하지 않을 경우, Error를 반환</li>
</ol>
</li>
</ol>
<p><img src="/images/transaction.png" alt="Transaction fields"><br>출처: <a href="https://medium.com/@preethikasireddy/how-does-ethereum-work-anyway-22d1df506369" target="_blank" rel="noopener">Transaction fields</a></p>
<ol start="2">
<li>Gas 값 수수료 및 잔고 확인<ol>
<li>트랜잭션 수수료(=gasLimit * gasPrice) 계산</li>
<li>서명으로부터 발신처 주소를 결정</li>
<li>발신처 Account의 balance에서 계산한 트랜잭션 수수료를 빼고, 발신자 Nonce를 증가</li>
<li>발신처 balance가 충분하지 않으면, Error를 반환</li>
<li>GAS = gasLimit으로 초기화 한 후, 트랜잭션에서 사용된 byte에 대한 값을 지불하기 위해 byte 당 gas의 특정 양을 차감(트랜잭션의 총 byte 길이 * byte 당 gas 수수료)</li>
<li>발신처 Account에서 수신처 Account로 트랜잭션 값을 보냄</li>
<li>이때, 수신처 Account가 존재하지 않으면 새로 생성</li>
<li>만약, 수신처 Account가 컨트랙트면, 컨트랙트 코드를 끝까지 수행</li>
<li>이때, GAS가 모두 소모되면, 소모될 때까지만 수행</li>
<li>발신처의 balance가 전송할 값보다 적거나, 코드 수행시 GAS가 부족하면, 모든 상태 변경을 원상태로 돌려놓음</li>
<li>이때, 코드를 수행한 만큼의 GAS는 채굴자 Account로 더해지고, 나머지 GAS는 발신처 Account에 다시 돌려짐</li>
</ol>
</li>
</ol>
<p>수수료</p>
<ul>
<li>트랜잭션 처리에 대한 수수료</li>
<li>스마트 컨트랙트 코드 실행 처리에 대한 수수료</li>
</ul>
<p><br></p>
<h1 id="상태-전이-예제"><a href="#상태-전이-예제" class="headerlink" title="상태 전이 예제"></a>상태 전이 예제</h1><hr>
<p>&lt;예제&gt;</p>
<ul>
<li>트랜잭션은 다음과 같은 field를 가지고 전달된다고 가정<ul>
<li>Value = 10 ether</li>
<li>gasLimit = 2,000</li>
<li>gasPrice = 0.001 ether</li>
<li>Data = 64 bytes(스마트 컨트랙트 호출에 필요한 parameter 값)<ul>
<li>0-31 bytes까지는 숫자 2로 나타내고, 32-63 bytes는 CHARLIE 문자열로 나타냄)</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>트랜잭션의 총 길이 = 170 bytes, byte 당 GAS 수수료 = 5 gas (트랜잭션 처리에 대한 수수료 = 170 * 5 = 850 GAS)</li>
<li>스마트 컨트랙트 코드 실행시 GAS 수수료 = 187 GAS</li>
</ul>
<p><br></p>
<p>&lt;프로세스&gt;</p>
<ol>
<li>트랜잭션의 형식과 서명이 유효한지 확인(기본 트랜잭션 형식이 맞는지 확인)</li>
<li>트랜잭션 발송처가 최소 2000 * 0.001 = 2 ether를 가지고 있는지 확인하고, 발송처의 Account에서 2 ether를 차감</li>
<li>발신처 balance가 2 ether 보다 적으면, Error를 반환</li>
<li>발신자 Nonce를 증가</li>
<li>GAS = 2,000으로 초기화 한 후, 트랜잭션 처리에 대한 수수료 850 GAS를 차감하면, 1150 GAS가 남음</li>
<li>발신처 Account에서 보내고자 하는 10 ether를 차감하고, 이것을 수신처 Account에 보냄</li>
<li>이때, 수신처 Account가 스마트 컨트랙트면, 컨트랙트 Account에 더함</li>
<li>스마트 컨트랙트의 코드를 실행하여 스마트 컨트랙트의 코드 실행 처리 수수료인 187 GAS를 차감하면, 963 GAS가 남음(1150 - 187 = 963)</li>
<li>963 * 0.001 = 0.963 ether를 송신처의 Account에 되돌려주고, 상태를 반환</li>
<li>만약, 코드 수행시에 GAS가 모두 소모되면, 소모될 때까지만 수행</li>
<li>코드 수행시, GAS가 부족하면, 모든 상태 변경을 원상태로 돌려놓음</li>
<li>이때, 코드를 수행한 만큼의 GAS는 채굴자 Account로 더해지고, 나머지 GAS는 발신처 Account에 다시 돌려짐</li>
</ol>
<p><img src="/images/state-transition-example.png" alt="State Transition Example"><br>출처: <a href="https://medium.com/@preethikasireddy/how-does-ethereum-work-anyway-22d1df506369" target="_blank" rel="noopener">State Transition Example</a></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Ethereum/">Ethereum</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ethereum/">Ethereum</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/State-Transition/">State Transition</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-icon-data"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/03/30/icon-data/">ICON Data</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2019/03/30/icon-data/" class="article-date">
	  <time datetime="2019-03-30T09:04:44.000Z" itemprop="datePublished">March 30, 2019</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/ICON/">ICON</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ICONex에서-Transfer-할-때-입력할-수-있는-Data-타입"><a href="#ICONex에서-Transfer-할-때-입력할-수-있는-Data-타입" class="headerlink" title="ICONex에서 Transfer 할 때, 입력할 수 있는 Data 타입"></a>ICONex에서 Transfer 할 때, 입력할 수 있는 Data 타입</h1><hr>
<p>ICONex에서 송금할 때, data를 입력할 수 있다. 여기서 말하는 data는 message를 말하는데, 전달할 message가 있다면 작성할 수 있고, 기본적으로 optional이다.</p>
<p>입력하는 data의 타입은 <code>UTF-8</code>과 <code>HEX</code> 2가지다.</p>
<p><br></p>
<h2 id="UTF-8"><a href="#UTF-8" class="headerlink" title="UTF-8"></a>UTF-8</h2><hr>
<ul>
<li><code>UTF-8</code>이란, <strong>어떤 언어의 문자든 유니코드(unicode)로 인코딩하는 방식으로, 여러 방식이 있으나 이 방식을 가장 많이 사용한다.</strong><ul>
<li><strong>유니코드(unicode)란, 전 세계의 모든 문자를 컴퓨터에서 일관되게 표현하는 표준 코드를 말한다.</strong></li>
<li><strong>인코딩이란, ‘부호화하다’라는 의미로, 이를 컴퓨터 공학에서 정의하면, 입력 데이터를 컴퓨터속에서 사용하는 코드로 변환하는 것을 말한다.<ul>
<li>즉, 문자나 기호들의 집합을 컴퓨터에 저장하거나 통신에 사용할 목적으로 부호화하는 방법이다.</li></ul></strong></li>
</ul>
</li>
<li><strong>디코딩이란, ‘복호화하다’라는 의미로, 부호화(Encoding)된 정보를 부호화되기 전으로 되돌리는 처리 방식을 말한다.</strong></li>
</ul>


<p><br></p>
<p>정보를 표현하기 위한 글자들의 집합을 문자집합(Character Set)이라고 하고, 다음의 2가지 종류가 대표적인 표준코드이다.</p>
<ul>
<li>ASCII코드</li>
<li>유니코드</li>
</ul>
<p>ASCII코드는 영문 알파벳을 사용하는 대표적인 문자 인코딩된 표준 코드이다. 그러나, 한글 등 다른 모든 언어를 사용하기 위해서는 이 방식보다 다른 방식을 더 사용한다. 그것은 바로, 유니코드이다.</p>
<p>유니코드란, 전 세계의 모든 문자를 컴퓨터에서 일관되게 표현하고 다룰 수 있도록 설계된 산업 표준코드이다.</p>
<p>내가 제작하려고 하는 웹애플리케이션 또는 웹페이지에서 다국어를 지원하기 위해서는 사용된 문자를 유니코드로 인코딩 해야하고, 이때 인코딩하는 방식 중 <code>UTF-8</code>를 주로 사용한다. <code>UTF-8</code>를 사용하면, 전 세계 모든 문자를 표현할 수 있고, 한 문자를 표현하기 위해 1바이트에서 4바이트까지 사용한다.</p>
<p>웹 개발을 할 때, html에서 다음과 같이 작성한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=UTF-8&quot; /&gt;</span><br><span class="line">&lt;/head&gt;</span><br></pre></td></tr></table></figure></p>
<p>위와 같이 작성하면, html 문서의 문자는 <code>UTF-8</code> 방식으로 인코딩하여 유니코드로 변환한다는 뜻이다. 만약, 위와 같이 작성하지 않으면, html 문서를 브라우저에서 구현할 때 한글 등 다른 언어들이 깨져 보일 수가 있다.</p>
<p>참고:</p>
<ul>
<li><a href="(https://freestrokes.tistory.com/25">Encoding vs Decoding</a>)</li>
<li><a href="https://wiki.debianusers.or.kr/index.php?title=Unicode" target="_blank" rel="noopener">Unicode</a></li>
<li><a href="https://codelib.tistory.com/20" target="_blank" rel="noopener">How UTF-8 Works</a></li>
</ul>
<p><br></p>
<h2 id="HEX"><a href="#HEX" class="headerlink" title="HEX"></a>HEX</h2><hr>
<p><strong>HEX란, <code>0x</code>를 접두어(prefix)로 사용한 16진수를 표현하는 방식으로, Hexadecimal의 줄임말이다.</strong></p>
<p>예를 들어, <code>0x547261636b65722063656c6c20ed858cec8aa</code> 와 같이 표현한다.</p>
<p><br></p>
<h1 id="Data-입력시-수수료-부과"><a href="#Data-입력시-수수료-부과" class="headerlink" title="Data 입력시 수수료 부과"></a>Data 입력시 수수료 부과</h1><hr>
<p>ICONex에서 송금시에 트랜잭션에 사용될 기본적인 Step Limit이 default로 있고, Step Price는 고정되어 있다. 이 둘을 곱한 값이 총 수수료이다.</p>
<p>그런데, 만약 Data를 입력하게 되면, 입력한 Data의 양만큼의 추가 수수료가 부과된다. 이는 Data를 입력하는 양에 따른 Step Limit이 변경되어 최종 수수료가 변경되기 때문이다.</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/ICON/">ICON</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ICON-Data/">ICON Data</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-icon-unit"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/03/22/icon-unit/">ICON Unit</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2019/03/22/icon-unit/" class="article-date">
	  <time datetime="2019-03-22T14:42:15.000Z" itemprop="datePublished">March 22, 2019</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/ICON/">ICON</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Ether의-기본단위"><a href="#Ether의-기본단위" class="headerlink" title="Ether의 기본단위"></a>Ether의 기본단위</h1><hr>
<p>이더리움의 가장 작은 단위는 <code>wei</code> 이다.</p>
<table>
<thead>
<tr>
<th style="text-align:center">Name</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1 ether</td>
<td style="text-align:center">1<em>10^18 wei(=== 1</em>e^18 wei)</td>
</tr>
<tr>
<td style="text-align:center">1 ether</td>
<td style="text-align:center">1<em>10^9 Gwei(=== 1</em>e^9 Gwei)</td>
</tr>
<tr>
<td style="text-align:center">1 Gwei</td>
<td style="text-align:center">1<em>10^9 wei(=== 1</em>e^9 wei)</td>
</tr>
</tbody>
</table>
<p>참고로, Gwei는 가스(이더리움 네트워크 거래 수수료) 비용을 계산할 때, 주로 사용한다.</p>
<p><br></p>
<h1 id="ICX의-기본단위"><a href="#ICX의-기본단위" class="headerlink" title="ICX의 기본단위"></a>ICX의 기본단위</h1><hr>
<p>ICON도 이더리움과 비슷한 개념을 사용한다.</p>
<p>ICON의 가장 작은 단위는 <code>loop</code> 이다.</p>
<table>
<thead>
<tr>
<th style="text-align:center">Name</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1 icx</td>
<td style="text-align:center">10^18 loop(=== 1*e^18 loop)</td>
</tr>
<tr>
<td style="text-align:center">1 icx</td>
<td style="text-align:center">10^9 Gloop(=== 1*e^9 Gloop)</td>
</tr>
<tr>
<td style="text-align:center">1 Gloop</td>
<td style="text-align:center">10^9 loop(=== 1*e^9 loop)</td>
</tr>
</tbody>
</table>
<p>참고로, Gloop는 step(ICON 네트워크 거래 수수료) 비용을 계산할 때, 주로 사용한다.</p>
<p><br></p>
<h1 id="Ethereum-Fee-System"><a href="#Ethereum-Fee-System" class="headerlink" title="Ethereum Fee System"></a>Ethereum Fee System</h1><hr>
<p>이더리움에서 어떤 1개의 트랜잭션을 실행하는 데 사용자가 지불해야하는 수수료를 최대 트랜잭션 실행 비용(Max Transaction Fee)이라고 한다.</p>
<p><strong>Max Transaction Fee(최대 트랜잭션 실행 비용) = Gas Limit(가스 총량) * Gas Price(가스 가격)</strong></p>
<p><strong>Gas Limit(가스 총량)이란, 트랜잭션을 실행하는데 예상되는(추정되는) 총 가스량을 말한다.</strong></p>
<p><strong>Gas Price(가스 가격)이란, 1 가스당 가격을 말한다.</strong></p>
<p>즉, 어떤 사용자가 1개의 트랜잭션을 수행하려고 하면, 그 트랜잭션을 수행하는 것에 대한 수수료(최대 트랜잭션 실행 비용)를 지불해야 하는데, 그 수수료는 Gas Limit(가스 총량) * Gas Price(가스 가격)으로 계산되어진다.</p>
<p>이때, Gas Limit(가스 총량)은 각 트랜잭션에 필요한 총 가스량을 추정(estimated)해서 계산된 값이 나오고, Gas Price(가스 가격)은 1 가스당 가격으로 이 가격이 높을수록 마이너들이 보상을 많이 받기 때문에, 트랜잭션이 빨리 처리가 된다. 즉, 트랜잭션 실행 속도가 빠르게 된다.</p>
<p><br></p>
<p><img src="/images/ether-gas.png" alt="How Gas works"><br>출처: <a href="https://steemit.com/kr-dev/@modolee/q6hpz" target="_blank" rel="noopener">How Gas works</a></p>
<p><br></p>
<p>어떤 트랜잭션을 실행하려면, 사용자 어카운트에 있는 ether 잔액이 최대 트랜잭션 실행 비용보다 많아야 한다.</p>
<ul>
<li>만약 적거나, 트랜잭션 실행 도중에 가스를 모두 사용하면, 해당 트랜잭션은 중단되고 이전 상태로 복귀되지만, 사용된 가스는 발신자에게 반환되지 않는다.</li>
<li>만약 ether 잔액이 충분하고, 트랜잭션이 성공적으로 실행이 되었는데, 가스가 남았다면 이 가스는 사용자에게 반납된다.</li>
</ul>
<p><br></p>
<h1 id="ICON-Fee-System"><a href="#ICON-Fee-System" class="headerlink" title="ICON Fee System"></a>ICON Fee System</h1><hr>
<p>ICON의 step limit과 step price는 이더리움의 gas limit과 gas price 개념과 동일하다.</p>
<p><strong>Estimated Transaction Fee(최대 트랜잭션 실행 비용) = Step Limit(스텝 한도) * Step Price(스텝 가격)</strong></p>
<p><strong>Step Limit(스텝 한도)이란, 트랜잭션을 실행하는데 예상되는(추정되는) 총 스텝양을 말한다.</strong></p>
<p><strong>Step Price(스텝 가격)이란, 1 스텝당 가격을 말한다.</strong></p>
<p>즉, 어떤 사용자가 1개의 트랜잭션을 수행하려고 하면, 그 트랜잭션을 수행하는 것에 대한 수수료(최대 트랜잭션 실행 비용)를 지불해야 하는데, 그 수수료는 Step Limit(스텝 한도) * Step Price(스텝 가격)으로 계산되어진다.</p>
<p>ICON에서 송금 등의 트랜잭션 실행을 할 때, 기본적으로 Step Limit이 100000이다. 이 값은 default로 사용자가 Step Limit의 값을 변경할 수 있다. 그러나, Step Limit의 최대값과 최소값은 정해져 있어서 그 범위안에서만 변경이 가능하다.</p>
<p>Step Price는 0.00000001 ICX (10 Gloop)로 고정되어있다.</p>
<p>어떤 트랜잭션을 실행하려면, 사용자 어카운트에 있는 icx 잔액이 최대 트랜잭션 실행 비용보다 많아야 한다.</p>
<ul>
<li>만약 적거나, 트랜잭션 실행 도중에 step을 모두 사용하면, 해당 트랜잭션은 중단되고 이전 상태로 복귀되지만, 사용된 step은 발신자에게 반환되지 않는다.</li>
<li>만약 step limit을 잔액보다 높게 설정하더라도, 해당 트랜잭션에 필요한 step 만큼만 소진된다.</li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/ICON/">ICON</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ICON-Unit/">ICON Unit</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-redux-saga"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/03/17/redux-saga/">Redux-Saga</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2019/03/17/redux-saga/" class="article-date">
	  <time datetime="2019-03-17T12:35:33.000Z" itemprop="datePublished">March 17, 2019</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/React/">React</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Redux-Saga란-무엇인가"><a href="#Redux-Saga란-무엇인가" class="headerlink" title="Redux-Saga란 무엇인가?"></a>Redux-Saga란 무엇인가?</h1><hr>
<p><strong>Redux-saga란, side effect를 관리하기 위한 middleware이다.</strong></p>
<p>Side effect란, 애플리케이션의 부작용들(데이터 요청 등의 비동기 작업/브라우저 캐시 같은 순수하지 않은 것들)을 말한다.</p>
<p>middleware란, 액션이 dispatch 되어서 리듀서에서 이를 처리하기 전에 그 사이에서 중간자로써 지정된 특정 작업을 하는 것을 말한다.</p>
<p><br></p>
<h1 id="Redux-Saga를-왜-사용하는가"><a href="#Redux-Saga를-왜-사용하는가" class="headerlink" title="Redux-Saga를 왜 사용하는가?"></a>Redux-Saga를 왜 사용하는가?</h1><hr>
<p>비동기 처리 등 순수하게 액션만을 전달하는 것 이상으로 발생하는 상황들(side effects)을 다룰 때, 이 미들웨어를 사용한다.</p>
<p><br></p>
<h1 id="Redux-Thunk-대신에-Redux-Saga를-사용하는-이유는-무엇인가"><a href="#Redux-Thunk-대신에-Redux-Saga를-사용하는-이유는-무엇인가" class="headerlink" title="Redux-Thunk 대신에 Redux-Saga를 사용하는 이유는 무엇인가?"></a>Redux-Thunk 대신에 Redux-Saga를 사용하는 이유는 무엇인가?</h1><hr>
<p>redux-thunk를 사용하면, 비동기 처리를 Action Creator(액션 생성자 함수)에서 작성하게 되어, 로직이 복잡해진다. 기본적으로 Redux에서 Action Creator에서는 액션을 객체형태로 생성하여 dispatch 하는데, redux-thunk에서는 액션을 함수형태로 생성하여 dispatch 하여, Action Creator에 비동기처리 코드나 관련된 로직이 들어가게 된다.</p>
<p>그런데, Redux-saga는 비동기 처리를 기술하는 전용의 방식인 task로 쓰여있다. 즉, 비동기 처리를 각 saga(task)에서 명령을 내리고, 동작을 미들웨어에서 처리한다. 그래서, redux에서의 action creator에서 기존과 그대로 액션을 객체형태로 생성하여 dispatch 할 수가 있고, saga에서의 코드도 더 간단해진다. 결국, Action Creator는 본래의 모습을 되찾아, action 객체를 생성하여 돌려주는 순수한 상태로 돌아가게 된다.</p>
<p>결론적으로, Redux-Saga를 사용하게 되면, 비동기 처리를 액션 생성자로부터 분리하여 작성하기 때문에, 가독성도 좋고 콜백 처리 등에 더 수월하다.</p>
<p><br></p>
<h1 id="Redux-Saga-Architecture"><a href="#Redux-Saga-Architecture" class="headerlink" title="Redux-Saga Architecture"></a>Redux-Saga Architecture</h1><hr>
<p><img src="/images/redux-saga.webp" alt="Redux-Saga Architecture"><br>출처: <a href="https://scotch.io/tutorials/build-a-media-library-with-react-redux-and-redux-saga-part-1" target="_blank" rel="noopener">Redux-Saga Architecture</a></p>
<p><br></p>
<h1 id="Redux-Saga-Flow"><a href="#Redux-Saga-Flow" class="headerlink" title="Redux-Saga Flow"></a>Redux-Saga Flow</h1><hr>
<p><img src="/images/redux-saga-flow.png" alt="Redux-Saga Architecture"><br>출처: <a href="(https://meetup.toast.com/posts/136">Redux-Saga Architecture</a>)</p>
<p>위 Flow를 정리하면 다음과 같다.</p>
<ol>
<li>어떤 비동기 액션이 dispatch 되면, Reducer에 먼저 도달한다. 정확하게는 액션이 Reducer로 지나가는 것을 본 후, Redux-Saga에 액션을 처리한다. Reducer는 순수 함수라는 규칙이 있기 때문에, 비동기 액션을 처리하지 못한다.</li>
</ol>
<ol start="2">
<li>이 비동기 액션을 Redux-Saga에 있는 watcher saga가 보고 있다가, watcher saga에 등록되어 있는 task를 수행한다. 이 watcher saga의 역할은 어떤 비동기 액션이 dispatch 되면, 어떤 task를 수행하도록 등록하는 것이다. 이때, takeEvery라는 헬퍼 이펙트를 사용하는데, 이 이펙트는 여러개의 task를 동시에 시작할 수 있다. 즉, 1개 혹은 아직 종료되지 않은 task가 있더라도 새로운 task를 시작할 수 있다.</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// INCREMENT_ASYNC 액션이 Dispatch 되면 `incrementAsync`를 수행하도록 등록한다.</span><br><span class="line">export function* watchIncrementAsync() &#123;</span><br><span class="line">  yield takeEvery(INCREMENT_ASYNC, incrementAsync)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li><code>incrementAsync</code>를 수행하는데, 만약 task가 2초 마다 +1씩 증가하는 함수라고 한다면, 다음과 같이 작성한다.</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function* incrementAsync(action) &#123;</span><br><span class="line">  yield delay(2000)                 // 2초를 기다리고</span><br><span class="line">  yield put(&#123; type: INCREMENT &#125;)    // INCREMENT 액션을 Dispatch한다.</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>위 task가 수행될 때, 먼저 첫번째 줄에 있는 delay(2000)이 yield 된다. delay는 설정된 시간 이후에 resolve를 하는 Promise 객체를 리턴하는 함수이다. 이 Promise가 미들웨어에 yield 될때, 미들웨어는 Promise가 끝날때까지 Saga를 일시정지 시킨다.(generator 함수의 특징) 즉, 이 부분은 동기적으로 동작한다.</li>
</ol>
<ol start="5">
<li>2초후, Promise가 한번 resolve 되면, 미들웨어는 saga(task)를 다시 작동시키면서, 다음 yield까지 코드를 실행한다. 이런 방식으로 saga(task)에서 1개씩 yield되고, 그 yield 된 것이 미들웨어에 의해 동작이 완료되면, 그때 그 다음줄에 있는 객체가 yield된다.</li>
</ol>
<ol start="6">
<li>어떤 객체를 yield할때, 앞에 오는 것들(put, call 등)을 이펙트라고 한다. 이펙트란, 미들웨어에 의해 수행되는 명령을 담고있는 간단한 자바스크립트 객체를 말한다. 미들웨어가 saga에 의해 yield 된 이펙트를 받을때, saga는 이펙트가 수행될때까지 정지되어 있다.</li>
</ol>
<ol start="7">
<li>saga에서 put을 통해 객체를 dispatch하면, 이 객체는 reducer로 가게된다.</li>
</ol>
<ol start="8">
<li>두 saga를 모두 한번에 실행하게 해주기 위해, rootSaga를 이용해 사용한다.</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 모든 Saga들을 한번에 시작하기 위한 단일 entry point 이다.</span><br><span class="line">export default function* rootSaga() &#123;</span><br><span class="line">  yield all([</span><br><span class="line">    incrementAsync(),</span><br><span class="line">    watchIncrementAsync()</span><br><span class="line">  ])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h1 id="Redux-Saga-사용방법"><a href="#Redux-Saga-사용방법" class="headerlink" title="Redux-Saga 사용방법"></a>Redux-Saga 사용방법</h1><hr>
<p>Redux-Saga를 사용하는 방법은 다음과 같다.</p>
<ul>
<li>saga 미들웨어 작성(sagas.js)<ul>
<li>비동기 처리를 위한 task 작성(제너레이터 함수) - worker saga</li>
<li>각각의 어떤 비동기 액션을 처리하기 위해 watch 함수를 작성하고, 그 안에 takeEvery 이펙트 펠어 함수를 사용 - watcher saga</li>
<li>모든 saga들을 한번에 실행하기 entry point 작성 - rootSaga 작성<ul>
<li>rootSaga에 들어있는 두 saga가 호출된 결과의 배열을 yield 한다. 이것은 생성된 두 제너레이터가 병렬로 시작된다는 것을 의미.</li>
</ul>
</li>
</ul>
</li>
<li>Saga 미들웨어를 Redux 스토어에 연결(main.js)<ul>
<li>applyMiddleware</li>
<li>sagaMiddleware.run 등 작성</li>
</ul>
</li>
<li>비동기 호출을 위한 이벤트 등록(Counter.js)</li>
</ul>
<p>saga 미들웨어 작성(sagas.js)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// sagas.js</span><br><span class="line"></span><br><span class="line">import &#123; delay &#125; from &apos;redux-saga&apos;</span><br><span class="line">import &#123; put, takeEvery &#125; from &apos;redux-saga/effects&apos;</span><br><span class="line"></span><br><span class="line">// watcher saga</span><br><span class="line">export function* watchIncrementAsync() &#123;</span><br><span class="line">  yield takeEvery(INCREMENT_ASYNC, incrementAsync)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// worker saga</span><br><span class="line">function* incrementAsync(action) &#123;</span><br><span class="line">  yield delay(2000)</span><br><span class="line">  yield put(&#123; type: INCREMENT &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// rootSaga</span><br><span class="line">export default function* rootSaga() &#123;</span><br><span class="line">  yield all([</span><br><span class="line">    incrementAsync(),</span><br><span class="line">    watchIncrementAsync()</span><br><span class="line">  ])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Saga 미들웨어를 Redux 스토어에 연결(main.js)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// main.js</span><br><span class="line">import &#123; createStore, applyMiddleware &#125; from &apos;redux&apos;</span><br><span class="line">import createSagaMiddleware from &apos;redux-saga&apos;</span><br><span class="line"></span><br><span class="line">import rootSaga from &apos;./sagas&apos;</span><br><span class="line"></span><br><span class="line">const sagaMiddleware = createSagaMiddleware()</span><br><span class="line">const store = ...</span><br><span class="line">sagaMiddleware.run(rootSaga)</span><br></pre></td></tr></table></figure>
<p>비동기 호출을 위한 이벤트 등록(Counter.js)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// Counter.js</span><br><span class="line">const Counter = (&#123; value, onIncrementAsync &#125;) =&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;button onClick=&#123;onIncrementAsync&#125;&gt;</span><br><span class="line">      Increment after 2 second</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">    &lt;hr /&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      Counter: &#123;value&#125; times</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>비동기 호출을 처리하기 위해 Redux와 연결해주는 컨테이너 컴포넌트(CounterContainer.js)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function render() &#123;</span><br><span class="line">  ReactDOM.render(</span><br><span class="line">    &lt;Counter</span><br><span class="line">      value=&#123;store.getState()&#125;</span><br><span class="line">      onIncrementAsync=&#123;() =&gt; action(&apos;INCREMENT_ASYNC&apos;)&#125;</span><br><span class="line">    /&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/React/">React</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Redux-Saga/">Redux-Saga</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-what-is-redux"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2019/03/16/what-is-redux/">Redux</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2019/03/16/what-is-redux/" class="article-date">
	  <time datetime="2019-03-16T09:16:43.000Z" itemprop="datePublished">March 16, 2019</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/React/">React</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Redux란-무엇인가"><a href="#Redux란-무엇인가" class="headerlink" title="Redux란 무엇인가?"></a>Redux란 무엇인가?</h1><hr>
<p><strong>Redux란, 상태관리에 대한 라이브러리로써, 애플리케이션의 모든 컴포넌트에 대한 중앙집중식 저장소 역할을 하며, 단순히 하나의 컴포넌트가 아닌 여러 개의 컴포넌트에 적용하는 상태들을 관리하는 곳이다.</strong></p>
<p><br></p>
<h1 id="Redux를-왜-사용하는가"><a href="#Redux를-왜-사용하는가" class="headerlink" title="Redux를 왜 사용하는가?"></a>Redux를 왜 사용하는가?</h1><hr>
<p>리액트에서 기본적으로 부모 컴포넌트에서 상태를 관리하고, 자식으로 상태를 전달한다. 그러나, 앱 규모가 커지면, 데이터가 많고, 유지보수가 힘들다. Redux를 사용하면, 상태값을 컴포넌트에 종속시키지 않고, 상태 관리를 컴포넌트 바깥에서 관리가 가능하다.</p>
<p><br></p>
<h1 id="Redux-필수-개념"><a href="#Redux-필수-개념" class="headerlink" title="Redux 필수 개념"></a>Redux 필수 개념</h1><hr>
<ul>
<li><p><strong>Action</strong></p>
<ul>
<li><strong>Action이란, 상태에 변화를 일으킬 때 참조할 수 있는 객체이다.</strong></li>
<li>Action 객체는 필수적으로 type 이라는 값을 가지고 있어야 한다.</li>
<li>예로, { type: ‘INCREMENT’ } 라는 객체를 전달 받으면, Redux Store는 ‘상태에 값을 더해줘야 하구나’라고 생각하고 Action을 참조하게 된다.</li>
<li>type은 필수이고, 그 다음 값(예로 diff 등)은 option이다.</li>
</ul>
</li>
<li><p><strong>Reducer</strong></p>
<ul>
<li><strong>Reducer란, 액션 객체를 받으면 액션의 타입에 따라 어떻게 상태를 업데이트 하는지, 업데이트 로직을 정의하는 함수이다.</strong></li>
<li>Redux Store에는 Reducer가 있다.</li>
<li>Reducer에는 2개의 parameter가 존재한다.<ul>
<li>State: 현재 상태</li>
<li>Action: 액션 객체</li>
</ul>
</li>
<li>상태가 변하면, 구독하고 있던 컴포넌트에게 알려서, 새로운 상태로 리렌더링함.</li>
</ul>
</li>
</ul>
<p><br></p>
<h1 id="Redux-3가지-규칙"><a href="#Redux-3가지-규칙" class="headerlink" title="Redux 3가지 규칙"></a>Redux 3가지 규칙</h1><hr>
<ul>
<li><p><strong>각 애플리케이션에서는 단 1개의 Store를 사용한다.</strong></p>
</li>
<li><p><strong>상태는 읽기전용이다.</strong></p>
<ul>
<li>기존의 상태는 건들이지 않고, 새로운 상태를 생성하여 업데이트 해주는 방식으로 하면, 나중에 개발자 도구를 통해서 뒤로 돌릴 수도 있고, 다시 앞으로 돌릴 수도 있다.</li>
<li>immutable.js를 사용하여 불변성을 유지하며 상태를 관리한다.</li>
</ul>
</li>
<li><p><strong>변화를 일으키는 함수, 즉, Reducer는 순수한 함수이다.</strong></p>
<ul>
<li>순수한 함수란, 동일한 인풋이라면 언제나 동일한 아웃풋이 나오는 함수이다. 즉, 똑같은 파라미터로 호출된 리듀서 함수는 언제나 똑같은 결과값을 반환해야 한다.</li>
<li>이전 상태는 안 건들이고, 변화를 일으킨 새로운 상태 객체를 만들어서 반환한다.</li>
<li>순수 하지 않은 것, 즉 실행 할 때마다 다른 결과값이 나오는 것들은 Reducer 함수가 아닌 바깥에서 처리해야 한다.<ul>
<li>실행할 때마다 다른 결과값이 나오는 것들<ul>
<li>New Date()</li>
<li>랜덤 숫자 생성</li>
<li>네트워크에 요청</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><br></p>
<h1 id="Redux-파일-구조"><a href="#Redux-파일-구조" class="headerlink" title="Redux 파일 구조"></a>Redux 파일 구조</h1><hr>
<ul>
<li><strong>Root.js</strong> - React 앱에 Redux 적용(최상위 컴포넌트)</li>
<li><strong>컨테이너 컴포넌트(Store)</strong><ul>
<li>CounterContainer.js - Redux와 연동하는 컴포넌트</li>
</ul>
</li>
<li><strong>프레젠테이셔널 컴포넌트(View)</strong><ul>
<li>Counter.js - Counter 기능을 보여주는 View</li>
</ul>
</li>
<li><strong>Store</strong><ul>
<li><strong>modules</strong> - 기능별로 액션 및 리듀서를 각 1개 파일에 작성(하나의 파일에 모두 작성하는 것을 Ducks 구조라고 한다.)<ul>
<li>counter.js - counter 기능과 관련된 액션 및 리듀서</li>
<li>index.js - 리듀서 합치는 파일</li>
</ul>
</li>
<li><strong>configure.js</strong> - Redux 스토어를 생성하는 함수를 모듈화하여 내보내는 파일</li>
<li><strong>index.js</strong> - store를 생성하여 모듈화하여 내보내는 파일<ul>
<li>이렇게 모듈화된 스토어는 브라우저 에서만 사용되는 스토어</li>
<li>서버사이드 렌더링을 하면, configure를 통하여 그때그때 만든다.</li>
<li>이렇게 모듈화된 스토어는 리액트 app을 초기설정할 때 사용</li>
</ul>
</li>
<li><strong>actionCreators.js</strong><ul>
<li>스토어를 불러오고, 각 모듈들에서 선언했던 액션 생성함수들을 불러와서 스토어의 dispatch와 미리 바인딩 작업을 한다.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><br></p>
<h1 id="Redux-Flow"><a href="#Redux-Flow" class="headerlink" title="Redux Flow"></a>Redux Flow</h1><hr>
<p><img src="/images/redux-flow2.jpg" alt="Redux Flow"><br>출처: <a href="http://slides.com/douglasnomizo/redux-saga#/2" target="_blank" rel="noopener">Redux Flow</a></p>
<p><br></p>
<h1 id="Redux-사용법"><a href="#Redux-사용법" class="headerlink" title="Redux 사용법"></a>Redux 사용법</h1><hr>
<ul>
<li><strong>Redux install: npm install redux react-redux</strong></li>
<li><strong>리액트 앱에 Redux 적용하기(Root.js)</strong><ul>
<li>리액트 앱에 Redux를 적용할 때는, react-redux에 있는 Provider를 사용</li>
</ul>
</li>
<li><strong>기능을 보여줄 화면 구성(Counter.js)</strong><ul>
<li>Counter 숫자화면<ul>
<li>증가/감소 버튼</li>
</ul>
</li>
</ul>
</li>
<li><strong>기능과 관련된 action과 reducer 작성(modules/counter.js)</strong><ul>
<li>액션 타입 정의</li>
<li>액션 생성 함수(ActionCreator) -&gt; createAction 사용</li>
<li>모듈의 초기 상태 정의</li>
<li>Reducer 정의: switch문 -&gt; handleActions 사용</li>
</ul>
</li>
<li><strong>여러 reducer가 있을 경우, 하나로 합치기(modules/index.js)</strong></li>
<li><strong>store를 만드는 함수 configure 만들어서 내보내기(store/configure.js)</strong><ul>
<li>Const store = createStore(modules)</li>
</ul>
</li>
<li><strong>위에서 만든 configure 함수를 사용하여 스토어를 만들고 내보내기(store/index.js)</strong></li>
<li><strong>Redux와 연동할 컨테이너 컴포넌트 만들고, 그 안에 프레젠테이셔널 컴포넌트인 counter.js를 리턴해서 화면에 보여주기(containers/CounterContainer.js)</strong></li>
<li><strong>이 컴포넌트를 App에 불러와 화면에 보여주기(components/App.js)</strong></li>
<li><strong>컨테이너 컴포넌트를 Redux에 연결하기(containers/CounterContainer.js)</strong><ul>
<li>mapStateToProps: props 값으로 넣어 줄 상태를 정의<ul>
<li>컴포넌트에 state로 넣어줄 props를 반환</li>
<li>컴포넌트에 넣어줄 액션 함수들을 반환</li>
</ul>
</li>
<li>mapDispatchToProps: props 값으로 넣어 줄 액션 함수들을 정의</li>
<li>Connect(): 컴포넌트를 Redux와 연동 할 때 사용</li>
</ul>
</li>
</ul>
<p><br></p>
<h1 id="Redux-Architecture"><a href="#Redux-Architecture" class="headerlink" title="Redux Architecture"></a>Redux Architecture</h1><hr>
<p><img src="/images/redux-flow.png" alt="Redux Architecture"><br>출처: <a href="https://mysullys.com/redux-flow-chart/react-redux-architecture-overview-mofed-medium-2/" target="_blank" rel="noopener">Redux Architecture</a></p>
<p><br></p>
<h3 id="실제-코드를-작성할-때-위-그림을-연상하면서-코드를-짜면-좀-더-쉬울-것이다"><a href="#실제-코드를-작성할-때-위-그림을-연상하면서-코드를-짜면-좀-더-쉬울-것이다" class="headerlink" title="실제 코드를 작성할 때, 위 그림을 연상하면서 코드를 짜면 좀 더 쉬울 것이다."></a>실제 코드를 작성할 때, 위 그림을 연상하면서 코드를 짜면 좀 더 쉬울 것이다.</h3><p><br></p>
<h1 id="Redux-코드-예제"><a href="#Redux-코드-예제" class="headerlink" title="Redux 코드 예제"></a>Redux 코드 예제</h1><hr>
<p><strong>[1] npm으로 redux를 설치한다.</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install redux react-redux</span><br></pre></td></tr></table></figure>
<p><br></p>
<p><strong>[2] 리액트 앱에 Redux를 적용한다.<strong></strong></strong></p>
<p>이때, react-redux에 있는 Provider를 사용한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">index.js</span><br><span class="line"></span><br><span class="line">import React from &apos;react&apos;;</span><br><span class="line">import ReactDOM from &apos;react-dom&apos;;</span><br><span class="line">import &#123; store &#125; from &apos;redux/store/store&apos;;</span><br><span class="line">import &#123; Provider &#125; from &apos;react-redux&apos;;</span><br><span class="line">import App from &apos;app/App.js&apos;;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Provider store=&#123;store&#125;&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;/Provider&gt;</span><br><span class="line">  , document.getElementById(&apos;root&apos;));</span><br><span class="line"></span><br><span class="line">//registerServiceWorker();</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>[3] 보여줄 화면 UI를 만든다.<strong></strong></strong></p>
<p>“KR” 또는 “EN”을 클릭하면, 각 언어에 맞게 화면이 바뀌는 화면 컴포넌트다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">Header.js</span><br><span class="line"></span><br><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &#123;</span><br><span class="line">  routeConstants as ROUTE</span><br><span class="line">&#125; from &apos;constants/index.js&apos;;</span><br><span class="line">import &#123; Link, withRouter &#125; from &apos;react-router-dom&apos;;</span><br><span class="line">import withLanguageProps from &apos;HOC/withLanguageProps&apos;;</span><br><span class="line">import &#123; isEmpty &#125; from &apos;utils&apos;;</span><br><span class="line"></span><br><span class="line">const INIT_STATE = &#123;</span><br><span class="line">  showInfo: false,</span><br><span class="line">  toggleLanguageList: false</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@withRouter</span><br><span class="line">@withLanguageProps</span><br><span class="line">class Header extends Component &#123;</span><br><span class="line"></span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.state = INIT_STATE;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    const &#123; setLanguage, language, location, I18n &#125; = this.props;</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">      &lt;div className=&quot;header-wrap&quot; onClick=&#123;this.onHeaderClick&#125;&gt;</span><br><span class="line">        &lt;div className=&quot;wrap-holder&quot;&gt;</span><br><span class="line">          &#123;showHeaderItem &amp;&amp; (</span><br><span class="line">            &lt;Link to=&#123;ROUTE[&apos;home&apos;]&#125;&gt;&lt;p className=&quot;logo&quot;&gt;&lt;span className=&quot;_img&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;/Link&gt;</span><br><span class="line">          )&#125;</span><br><span class="line"></span><br><span class="line">          // &quot;KR&quot; &amp; &quot;EN&quot; 클릭 View</span><br><span class="line">          &lt;div className=&quot;language-holder&quot;&gt;</span><br><span class="line">            &lt;span onClick=&#123;() =&gt; setLanguage(&apos;kr&apos;)&#125; className=&#123;language === &apos;kr&apos; ? &apos;on&apos; : &apos;&apos;&#125;&gt;KR&lt;/span&gt;</span><br><span class="line">            &lt;span className=&quot;dot&quot;&gt;·&lt;/span&gt;</span><br><span class="line">            &lt;span onClick=&#123;() =&gt; setLanguage(&apos;en&apos;)&#125; className=&#123;language === &apos;en&apos; ? &apos;on&apos; : &apos;&apos;&#125;&gt;EN&lt;/span&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Header;</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>[4] 액션타입과 액션생성자 함수를 만든다.<strong></strong></strong></p>
<p>액션타입은 다음과 같다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">actionTypes.js</span><br><span class="line"></span><br><span class="line">const actionTypes = &#123;</span><br><span class="line"></span><br><span class="line">// globalActions</span><br><span class="line">  setLanguage: &apos;SET_LANGUAGE&apos;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default actionTypes;</span><br></pre></td></tr></table></figure></p>
<p>액션생성자 함수는 다음과 같다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import actionTypes from &apos;redux/actionTypes/actionTypes&apos;;</span><br><span class="line"></span><br><span class="line">export function setLanguage(lan) &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: actionTypes.setLanguage,</span><br><span class="line">    payload: lan</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><strong>[5] Reducer 함수를 만든다.<strong></strong></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">globalReducer.js</span><br><span class="line"></span><br><span class="line">import actionTypes from &apos;redux/actionTypes/actionTypes&apos;;</span><br><span class="line"></span><br><span class="line">const initialState = &#123;</span><br><span class="line">  language: &apos;en&apos;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export function globalReducer(state = initialState, action) &#123;</span><br><span class="line">  switch (action.type) &#123;</span><br><span class="line">    case actionTypes.setLanguage:</span><br><span class="line">      return Object.assign(&#123;&#125;, state, &#123;</span><br><span class="line">        language: action.payload</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">    default:</span><br><span class="line">      return state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p><strong>[6] store를 만드는 함수를 만들고, 내보낸다.<strong></strong></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">store.js</span><br><span class="line"></span><br><span class="line">import &#123; createStore, applyMiddleware, compose &#125; from &apos;redux&apos;;</span><br><span class="line">import createSagaMiddleware from &apos;redux-saga&apos;;</span><br><span class="line">import rootReducer from &apos;redux/reducers/rootReducer&apos;;</span><br><span class="line">import rootSaga from &apos;redux/sagas/rootSaga&apos;;</span><br><span class="line">import persistState from &apos;redux-localstorage&apos;;</span><br><span class="line">import &#123; composeWithDevTools &#125; from &apos;remote-redux-devtools&apos;;</span><br><span class="line"></span><br><span class="line">const generateStore = (port) =&gt; &#123;</span><br><span class="line">  const sagaMiddleware = createSagaMiddleware();</span><br><span class="line">  const composeEnhancers = composeWithDevTools(&#123; realtime: true, hostname: &apos;localhost&apos;, port: port &#125;);</span><br><span class="line">  const composeFunc = process.env.NODE_ENV === &apos;production&apos; ? compose : composeEnhancers;</span><br><span class="line">  const store = createStore(rootReducer, &#123;&#125;, composeFunc(</span><br><span class="line">    applyMiddleware(sagaMiddleware),</span><br><span class="line">    persistState(null, &#123;</span><br><span class="line">      slicer: (paths) =&gt; (state) =&gt; &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">          global: state[&apos;global&apos;],</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;),</span><br><span class="line">  )</span><br><span class="line">  );</span><br><span class="line">  sagaMiddleware.run(rootSaga);</span><br><span class="line">  return store</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const store = generateStore(8000);</span><br><span class="line"></span><br><span class="line">export &#123;</span><br><span class="line">  store</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p><strong>[7] rootReducer를 만든다.<strong></strong></strong></p>
<p>rootReducer는 모든 Reducer들을 한번에 모아놓은 파일이다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import &#123; combineReducers &#125; from &apos;redux&apos;;</span><br><span class="line">import &#123; globalReducer &#125; from &apos;redux/reducers/globalReducer&apos;</span><br><span class="line">import &#123; signupReducer &#125; from &apos;redux/reducers/signupReducer&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">const rootReducer = combineReducers(&#123;</span><br><span class="line">  global: globalReducer,</span><br><span class="line">  signup: signupReducer,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">export default rootReducer;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p><strong>[8] store.js에서 store 생성후, index.js의 Provider에 제공한다.<strong></strong></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">index.js</span><br><span class="line"></span><br><span class="line">import React from &apos;react&apos;;</span><br><span class="line">import ReactDOM from &apos;react-dom&apos;;</span><br><span class="line">import &#123; store &#125; from &apos;redux/store/store&apos;;</span><br><span class="line">import &#123; Provider &#125; from &apos;react-redux&apos;;</span><br><span class="line">import App from &apos;app/App.js&apos;;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Provider store=&#123;store&#125;&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;/Provider&gt;</span><br><span class="line">  , document.getElementById(&apos;root&apos;));</span><br></pre></td></tr></table></figure>
<p><br></p>
<p><strong>[9] Container 컴포넌트를 Redux와 연결한다.<strong></strong></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">HeaderContainer.js</span><br><span class="line"></span><br><span class="line">import &#123; connect &#125; from &apos;react-redux&apos;;</span><br><span class="line">import &#123; Header &#125; from &apos;app/components/&apos;;</span><br><span class="line">import &#123; setLanguage &#125; from &apos;redux/actions/globalActions&apos;;</span><br><span class="line">import &#123; withRouter &#125; from &apos;react-router-dom&apos;;</span><br><span class="line"></span><br><span class="line">// props 값으로 넣어 줄 상태를 정의</span><br><span class="line">function mapStateToProps(state) &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    wallets: state.wallet.wallets,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// props 값으로 넣어 줄 액션함수들을 정의</span><br><span class="line">function mapDispatchToProps(dispatch) &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    setLanguage: (lan) =&gt; dispatch(setLanguage(lan))</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 컴포넌트와 Redux를 연동할 때 connect() 사용</span><br><span class="line">const HeaderContainer = connect(mapStateToProps, mapDispatchToProps)(Header);</span><br><span class="line"></span><br><span class="line">export default withRouter(HeaderContainer);</span><br></pre></td></tr></table></figure>
<p><br></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/React/">React</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Redux/">Redux</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/3/">Next</a>
  </nav>

</section>
          <aside id="sidebar">
  
    <div style="margin: 20px 0;">
	<div id="search-form-wrap">

    <form class="search-form">
        <label style="width: 72%;">
            <span class="screen-reader-text">Search for:</span>
            <input type="search" class="search-field" style="height: 36px; width: 100%;" placeholder=" Search…" value="" name="s" title="Search for:">
        </label>
        <input type="submit" class="search-form-submit" value="Search">
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
</div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Connect With Us</h3>
    <div class="widget widget_athemes_social_icons">

    	<ul class="clearfix widget-social-icons">   
    	
   			<li><a href="https://github.com/cheonmro" title="Github"><i class="fa fa-github" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="" title="Weibo"><i class="fa fa-weibo" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="" title="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="" title="Facebook"><i class="fa fa-facebook" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="" title="Google-plus"><i class="fa fa-google-plus" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="" title="Instagram"><i class="fa fa-instagram" aria-hidden="true"></i></a></li> 

   		
   		</ul>


   		<!--
   		<ul class="clearfix widget-social-icons">   		
   		<li class="widget-si-twitter"><a href="http://twitter.com" title="Twitter"><i class="ico-twitter"></i></a></li> 
		<li class="widget-si-facebook"><a href="http://facebook.com" title="Facebook"><i class="ico-facebook"></i></a></li>
			<li class="widget-si-gplus"><a href="http://plus.google.com" title="Google+"><i class="ico-gplus"></i></a></li>
			<li class="widget-si-pinterest"><a href="http://pinterest.com" title="Pinterest"><i class="ico-pinterest"></i></a></li>
			<li class="widget-si-flickr"><a href="http://flickr.com" title="Flickr"><i class="ico-flickr"></i></a></li>
			<li class="widget-si-instagram"><a href="http://instagram.com" title="Instagram"><i class="ico-instagram"></i></a></li>
		</ul> -->

    </div>
  </div>


  
    
  <div class="widget_athemes_tabs">
    <ul id="widget-tab" class="clearfix widget-tab-nav">
      <li class="active"><a>Recent Posts</a></li>
    </ul>
    <div class="widget">
      <ul>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2019/11/12/aligns/">HTML 요소를 수평/수직 방향으로 정렬하는 방법</a></h6>
              <span>November 12, 2019</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2019/11/12/display-property/">display를 활용한 CSS 레이아웃</a></h6>
              <span>November 12, 2019</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2019/11/12/box-model/">CSS Box Model</a></h6>
              <span>November 12, 2019</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2019/11/11/reset-css/">Reset CSS 사용방법</a></h6>
              <span>November 11, 2019</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2019/04/25/refs/">Refs and DOM</a></h6>
              <span>April 25, 2019</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2019/04/24/url-share/">URL 복사하기 버튼 만드는 방법</a></h6>
              <span>April 24, 2019</span>
            </div>

          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/API/">API</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithms/">Algorithms</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Blockchain-Market/">Blockchain(Market)</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Blockchain-Tech/">Blockchain(Tech)</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSS/">CSS</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Computer-Science/">Computer Science</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/">ES6</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Ethereum/">Ethereum</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ICON/">ICON</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Javascript/">Javascript</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Network/">Network</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Node-js/">Node.js</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/React/">React</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/UI/">UI</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Vue/">Vue</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/typescript/">typescript</a><span class="category-list-count">2</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>

    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/about" class="mobile-nav-link">Me &amp; Projects</a>
  
</nav> -->
    <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2019 Hexo All Rights Reserved.
        
            <span id="busuanzi_container_site_uv">
              本站访客数<span id="busuanzi_value_site_uv"></span>人次  
              本站总访问量<span id="busuanzi_value_site_pv"></span>次
            </span>
          
      </div>
      <div class="site-credit">
        Theme by <a href="https://github.com/iTimeTraveler/hexo-theme-hipaper" target="_blank">hipaper</a>
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");

    wrapdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";


    <!-- headerblur min height -->
    
    
</script>
    
<div style="display: none;">
  <script src="https://s11.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
</div>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<script src="/js/bootstrap.js"></script>
<script src="/js/main.js"></script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-125478847-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->






  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
</body>
</html>
