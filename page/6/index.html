<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Page 6 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://cheonmro.github.io/page/6/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>

  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">

  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Oswald%3A300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >
  <link rel="stylesheet" href="/css/fashion.css" >
  <link rel="stylesheet" href="/css/glyphs.css" >

</head>



  <body>


  


<header id="allheader" class="site-header" role="banner"
   >
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" rel="home" >
                <img style="margin-bottom: 10px;"  width="124px" height="124px" alt="Hike News" src="https://hexo.io/logo.svg">
              </a>
            
          </h1>

          

          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>

            <div class="clearfix sf-menu">
              <ul id="main-nav" class="menu sf-js-enabled sf-arrows"  style="touch-action: pan-y;">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/categories">Categories</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/about">me &amp; projects</a> </li>
                    
              </ul>
            </div>
          </nav>

      </div>
  </div>
</header>


  <div id="container">
    <div id="wrap">

      <div id="content" class="outer">
        
          <section id="main">
  
    <article id="post-event-flow"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/09/03/event-flow/">Event Flow(이벤트의 흐름)</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/09/03/event-flow/" class="article-date">
	  <time datetime="2018-09-03T05:38:03.000Z" itemprop="datePublished">September 3, 2018</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Javascript/">Javascript</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Event-Flow-이벤트의-흐름-이란-무엇인가"><a href="#Event-Flow-이벤트의-흐름-이란-무엇인가" class="headerlink" title="Event Flow(이벤트의 흐름)이란 무엇인가?"></a>Event Flow(이벤트의 흐름)이란 무엇인가?</h1><hr>
<p>Event Flow란, 어떤 요소에서 이벤트가 발생했을 때, 그 이벤트를 전파하여 감지하는 흐름을 말한다.</p>
<p>이벤트의 흐름은 아래와 같이, 버블링과 캡처링 방식으로 이벤트를 감지한다.</p>
<p><br></p>
<p><img src="/images/eventflow.png" alt="Event Flow"><br>출처: <a href="https://javascript.info/bubbling-and-capturing" target="_blank" rel="noopener">Event Flow</a></p>
<p><br></p>
<h1 id="Event-Delegation-이벤트-위임"><a href="#Event-Delegation-이벤트-위임" class="headerlink" title="Event Delegation(이벤트 위임)"></a>Event Delegation(이벤트 위임)</h1><hr>
<p>Event Delegation이란, 다수의 자식 요소에 각각 이벤트 핸들러를 바인딩하는 대신에, 하나의 부모 요소에 이벤트 핸들러를 바인딩하는 방법이다.</p>
<p>이벤트 위임을 하게 되면, 개별 자식 요소에 이벤트 핸들러를 바인딩할 필요가 없을 뿐 아니라, DOM 트리에 새로운 자식 요소가 추가되더라도, 이벤트 처리는 이벤트가 위임된 부모 요소에서 하기 때문에 코드도 간단해지고, 실행속도도 좋아지게 된다.</p>
<p>아래의 코드를 보자.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// HTML</span><br><span class="line">&lt;ul id=&quot;parent&quot;&gt;</span><br><span class="line">  &lt;li id=&quot;content1&quot;&gt;HTML&lt;/li&gt;</span><br><span class="line">  &lt;li id=&quot;content2&quot;&gt;CSS&lt;/li&gt;</span><br><span class="line">  &lt;li id=&quot;content3&quot;&gt;JAVASCRIPT&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// Javascript</span><br><span class="line">getColor() &#123;</span><br><span class="line">  console.log(&apos;get color&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var con1 = document.querySelector(&apos;#content1&apos;).addEventListener(&apos;click&apos;, getColor);</span><br><span class="line">var con2 = document.querySelector(&apos;#content2&apos;).addEventListener(&apos;click&apos;, getColor);</span><br><span class="line">var con3 = document.querySelector(&apos;#content3&apos;).addEventListener(&apos;click&apos;, getColor);</span><br></pre></td></tr></table></figure>
<p>만약 이벤트 위임을 안한다면, 위 코드처럼 모든 자식 요소에 이벤트 핸들러를 바인딩해줘야 한다. 위 코드처럼 3개는 크게 문제가 안될 수도 있지만, 만약 10개, 100개면 어떨까? 그렇게 되면 자식요소가 너무 많아지기 때문에, 각 자식요소에 이벤트 핸들러를 바인딩하는 것도 힘들고, 코드 가독성도 안좋게 되고, 결국 실행속도도 저하가 된다.</p>
<p>위 코드를 이벤트 위임을 하면 아래와 같다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// HTML</span><br><span class="line">&lt;ul id=&quot;parent&quot;&gt;</span><br><span class="line">  &lt;li id=&quot;content1&quot;&gt;HTML&lt;/li&gt;</span><br><span class="line">  &lt;li id=&quot;content2&quot;&gt;CSS&lt;/li&gt;</span><br><span class="line">  &lt;li id=&quot;content3&quot;&gt;JAVASCRIPT&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">// Javascript</span><br><span class="line">getColor() &#123;</span><br><span class="line">  console.log(&apos;get color&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var allContents = document.querySelector(&apos;#parent&apos;).addEventListener(&apos;click&apos;, getColor);</span><br></pre></td></tr></table></figure></p>
<p>위와 같이 부모요소 1개에만 이벤트 핸들러를 바인딩하게 되면, 어떤 자식(하위)요소에서 이벤트가 발생하게 되면 그 이벤트를 부모요소가 감지하여 addEventListener의 콜백함수가 실행되게 된다. 이렇게 하위요소에서 이벤트가 발생하여 상위요소로 전달되어 상위요소가 그 이벤트를 감지하는 것을 버블링이라고 한다. 그 반대 방향으로 감지하는 것을 캡처링이라고 한다. 이부분을 잘 이해해야 이벤트 위임을 잘 할 수 있다.</p>
<p><br></p>
<h1 id="Event-Bubbling-이벤트-버블링-amp-Event-Capturing-이벤트-캡처링"><a href="#Event-Bubbling-이벤트-버블링-amp-Event-Capturing-이벤트-캡처링" class="headerlink" title="Event Bubbling(이벤트 버블링) &amp; Event Capturing(이벤트 캡처링)"></a>Event Bubbling(이벤트 버블링) &amp; Event Capturing(이벤트 캡처링)</h1><hr>
<p>브라우저가 이벤트를 감지하는 방식은 2가지가 있다.</p>
<ul>
<li>Event Bubbling(이벤트 버블링)</li>
<li>Event Capturing(이벤트 캡처링)</li>
</ul>
<p><br></p>
<h2 id="Event-Bubbling-이벤트-버블링"><a href="#Event-Bubbling-이벤트-버블링" class="headerlink" title="Event Bubbling(이벤트 버블링)"></a>Event Bubbling(이벤트 버블링)</h2><hr>
<p>이벤트 버블링이란, 자식(하위)요소에서 발생한 이벤트가 부모(상위)요소로 전파(이벤트 전파: Event Propagation)되는 것을 말한다.</p>
<p>아래의 코드를 보자.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">// HTML</span><br><span class="line">&lt;div id=&quot;ancestor&quot;&gt;</span><br><span class="line">  &lt;ul id=&quot;parent&quot;&gt;</span><br><span class="line">    parent</span><br><span class="line">    &lt;li id=&quot;child&quot;&gt;child&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// Javascript</span><br><span class="line">var divAncestor = document.querySelector(&apos;#ancestor&apos;);</span><br><span class="line">var ulParent = document.querySelector(&apos;#parent&apos;);</span><br><span class="line">var liChild = document.querySelector(&apos;#child&apos;);</span><br><span class="line"></span><br><span class="line">divAncestor.addEventListener(&apos;click&apos;, function() &#123;</span><br><span class="line">  console.log(&apos;Event for div&apos;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">ulParent.addEventListener(&apos;click&apos;, function() &#123;</span><br><span class="line">  console.log(&apos;Event for ul&apos;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">liChild.addEventListener(&apos;click&apos;, function() &#123;</span><br><span class="line">  console.log(&apos;Event for li&apos;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>위 코드에서 ‘child’(li 요소)를 클릭하면, 아래와 같은 결과가 나온다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Event for li</span><br><span class="line">Event for ul</span><br><span class="line">Event for div</span><br></pre></td></tr></table></figure></p>
<p>자식요소인 li를 클릭하면, li에서 이벤트가 발생하고, 그 부모요소인 ul에서 이벤트가 발생하고, ul의 부모요소인 div에서 이벤트가 발생한다. 즉, 이벤트가 발생한 곳부터 위로 하나씩 이벤트가 발생하게 된다. 이때, 어떤 요소에 이벤트가 없을 경우(addEventListener가 없을 경우), 그 요소에서는 이벤트가 발생하지 않는다.</p>
<p>예를 들어, 아래의 코드를 보자.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// HTML</span><br><span class="line">&lt;div id=&quot;ancestor&quot;&gt;</span><br><span class="line">  &lt;ul id=&quot;parent&quot;&gt;</span><br><span class="line">    parent</span><br><span class="line">    &lt;li id=&quot;child&quot;&gt;child&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// Javascript</span><br><span class="line">var divAncestor = document.querySelector(&apos;#ancestor&apos;);</span><br><span class="line">var liChild = document.querySelector(&apos;#child&apos;);</span><br><span class="line"></span><br><span class="line">divAncestor.addEventListener(&apos;click&apos;, function() &#123;</span><br><span class="line">  console.log(&apos;Event for div&apos;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">liChild.addEventListener(&apos;click&apos;, function() &#123;</span><br><span class="line">  console.log(&apos;Event for li&apos;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>위 코드에서 ‘child’(li 요소)를 클릭하면, 아래와 같은 결과가 나온다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Event for li</span><br><span class="line">Event for div</span><br></pre></td></tr></table></figure></p>
<p>즉, ul요소는 이벤트가 없기 때문에(addEventListener가 없다.), 이벤트가 발생하지 않고, 그 부모요소인 div요소로 넘어가 div요소의 이벤트가 발생하게 된다.</p>
<p>또한, li요소가 아닌, ul을 클릭하게 되면, ul요소에서 이벤트가 발생하고, 그 부모요소인 div요소에서 이벤트가 전달된다. 즉, 이벤트가 발생한 요소부터 시작하여 상위요소로 이벤트가 발생하는 방식을 이벤트 버블링이라고 한다.</p>
<p>그럼 여기서 이벤트 위임을 하는 코드를 확인해보자.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// HTML</span><br><span class="line">&lt;div class=&quot;parent&quot;&gt;</span><br><span class="line">  &lt;button id=&quot;btn1&quot;&gt;button 1&lt;/button&gt;</span><br><span class="line">  &lt;button id=&quot;btn2&quot;&gt;button 2&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// Javascript</span><br><span class="line">  function getColor(e) &#123;</span><br><span class="line">  e.target.style.color = &apos;red&apos;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var parent = document.querySelector(&apos;.parent&apos;);</span><br><span class="line">parent.addEventListener(&apos;click&apos;, getColor);</span><br></pre></td></tr></table></figure></p>
<p>위 코드에서는, 모든 자식요소에 이벤트 핸들러를 바인딩하는 대신에, 부모요소 1개에만 이벤트핸들러를 바인딩했는데, 이것을 이벤트 위임이라고 한다. 따라서, 자식요소가 button1, button2 둘 중 어느 곳을 클릭을 하더라도, 이벤트가 부모요소로 전달되어, 부모요소인 parent 요소에서 이벤트를 감지하고 이벤트를 발생시킨다.</p>
<p><br></p>
<h2 id="Event-Capturing-이벤트-캡처링"><a href="#Event-Capturing-이벤트-캡처링" class="headerlink" title="Event Capturing(이벤트 캡처링)"></a>Event Capturing(이벤트 캡처링)</h2><hr>
<p>이벤트 캡처링이란, 자식 요소에서 발생한 이벤트가 부모 요소부터 시작하여 이벤트를 발생시킨 자식 요소까지 도달하는 것을 말한다.</p>
<p>아래의 코드를 보자.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">// HTML</span><br><span class="line">&lt;div id=&quot;ancestor&quot;&gt;</span><br><span class="line">  &lt;ul id=&quot;parent&quot;&gt;</span><br><span class="line">    parent</span><br><span class="line">    &lt;li id=&quot;child&quot;&gt;child&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// Javascript</span><br><span class="line">var divAncestor = document.querySelector(&apos;#ancestor&apos;);</span><br><span class="line">var ulParent = document.querySelector(&apos;#parent&apos;);</span><br><span class="line">var liChild = document.querySelector(&apos;#child&apos;);</span><br><span class="line"></span><br><span class="line">divAncestor.addEventListener(&apos;click&apos;, function() &#123;</span><br><span class="line">  console.log(&apos;Event for div&apos;);</span><br><span class="line">&#125;, true)</span><br><span class="line"></span><br><span class="line">ulParent.addEventListener(&apos;click&apos;, function() &#123;</span><br><span class="line">  console.log(&apos;Event for ul&apos;);</span><br><span class="line">&#125;, true)</span><br><span class="line"></span><br><span class="line">liChild.addEventListener(&apos;click&apos;, function() &#123;</span><br><span class="line">  console.log(&apos;Event for li&apos;);</span><br><span class="line">&#125;, true)</span><br></pre></td></tr></table></figure></p>
<p>참고로, 캡처링을 적용하려면, addEventListener 메소드의 세번째 매개변수에 true를 설정해야 한다. 설정하지 않으면 default로 버블링이다.</p>
<p>위 코드에서 ‘child’(li 요소)를 클릭하면, 아래와 같은 결과가 나온다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Event for div</span><br><span class="line">Event for ul</span><br><span class="line">Event for li</span><br></pre></td></tr></table></figure></p>
<p>자식요소인 li를 클릭하면, 최상위 부모요소인 div에서 먼저 이벤트가 발생하고, 아래 방향으로 하나씩 이벤트가 발생한다. 즉, 버블링과 반대로, 이벤트가 발생한 곳은 자식요소이나, 이벤트를 감지하는 곳은 최상위 부모요소부터 시작하여 실제로 이벤트가 발생한 요소까지 도달하는데, 이런식으로 이벤트를 감지하는 것을 이벤트 캡처링이라고 한다.</p>
<p>예를 들어, 아래의 코드를 보자.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// HTML</span><br><span class="line">&lt;div id=&quot;ancestor&quot;&gt;</span><br><span class="line">  &lt;ul id=&quot;parent&quot;&gt;</span><br><span class="line">    parent</span><br><span class="line">    &lt;li id=&quot;child&quot;&gt;child&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// Javascript</span><br><span class="line">var divAncestor = document.querySelector(&apos;#ancestor&apos;);</span><br><span class="line">var liChild = document.querySelector(&apos;#child&apos;);</span><br><span class="line"></span><br><span class="line">divAncestor.addEventListener(&apos;click&apos;, function() &#123;</span><br><span class="line">  console.log(&apos;Event for div&apos;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">liChild.addEventListener(&apos;click&apos;, function() &#123;</span><br><span class="line">  console.log(&apos;Event for li&apos;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>위 코드에서 ‘child’(li 요소)를 클릭하면, 아래와 같은 결과가 나온다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Event for div</span><br><span class="line">Event for li</span><br></pre></td></tr></table></figure></p>
<p>즉, ul요소는 이벤트가 없기 때문에(addEventListener가 없다.), 이벤트가 발생하지 않고, 그 부모요소인 div요소부터 이벤트가 발생하고, 그 다음 li요소에서 이벤트가 발생하게 된다.</p>
<p>또한, li요소가 아닌, ul을 클릭하게 되면, 최상위 요소인 div요소에서 이벤트가 발생하여, 이벤트가 발생한 ul요소까지 이벤트가 도달하게 된다. 즉, 이벤트가 어디서 발생하는 것과는 상관없이, 최상위 부모요소에서부터 이벤트가 발생하기 시작하여, 실제로 이벤트가 발생한 곳까지 가는 방식을 이벤트 캡처링이라고 한다.</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Javascript/">Javascript</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Event-Flow/">Event Flow</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-event-binding-and-event-handler"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/09/03/event-binding-and-event-handler/">Event Binding(이벤트 바인딩)과 Event Handler(이벤트 핸들러)</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/09/03/event-binding-and-event-handler/" class="article-date">
	  <time datetime="2018-09-02T23:58:00.000Z" itemprop="datePublished">September 3, 2018</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Javascript/">Javascript</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Event-Binding"><a href="#Event-Binding" class="headerlink" title="Event Binding"></a>Event Binding</h1><hr>
<p>바인딩이란, 서로 묶어서 연결해 준다는 뜻이다. 이벤트 바인딩이란, 발생하는 이벤트와 그 후에 어떤 일이 벌어질지 알려주는 함수(콜백함수)와 묶어서 연결해 준다는 뜻이다. 예를 들어, 어떤 버튼을 사용자가 클릭하게 되면, 클릭(‘click’)이벤트가 발생하게 되고, 그 이벤트가 발생했을 때 어떤 일이 벌어진다는 것을 알려주는 콜백함수를 실행하게 된다. 이때, 이 콜백함수를 이벤트 핸들러라고 한다.</p>
<p>이벤트 바인딩에는 대표적으로 3가지 방식이 있다.</p>
<ol>
<li>HTML 이벤트 핸들러</li>
<li>전통적인 DOM 이벤트 핸들러</li>
<li>Event Listener를 이용한 이벤트 핸들러</li>
</ol>
<p>1~2번의 단점을 보완한 방식이 Event Listener를 이용한 이벤트 핸들러 방식이다.</p>
<p><br></p>
<h2 id="1-HTML-이벤트-핸들러"><a href="#1-HTML-이벤트-핸들러" class="headerlink" title="1. HTML 이벤트 핸들러"></a>1. HTML 이벤트 핸들러</h2><p>HTML 요소의 이벤트 Attribute에 이벤트 핸들러를 대응시키는 방법이다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;button onclick=&quot;clickBtn()&quot;&gt;Click me&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">function clickBtn() &#123;</span><br><span class="line">  alert(&apos;Button clicked!&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>옛날 코드를 보게 되면 위와 같은 방식을 사용한 코드가 있다. 그래서 혹시 모를 상황에 대비해 알아둘 필요는 있지만, 현재 이 방식은 사용되지 않고, 사용해서도 안된다. 또한, 이렇게 되면 HTML과 Javascript가 혼용이 되는데, 이 둘은 관심사가 다르기 때문에 같이 사용하는 것을 피해야 한다.</p>
<p><br></p>
<h3 id="HTML-이벤트-핸들러-내부의-this"><a href="#HTML-이벤트-핸들러-내부의-this" class="headerlink" title="HTML 이벤트 핸들러 내부의 this"></a>HTML 이벤트 핸들러 내부의 this</h3><p>HTML 이벤트 핸들러 방식의 경우, 이벤트 핸들러 내부의 this는 window를 가리킨다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;button onclick=&quot;clickBtn()&quot;&gt;Click me&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">function clickBtn() &#123;</span><br><span class="line">  alert(&apos;Button clicked!&apos;);</span><br><span class="line">  console.log(this); // window</span><br><span class="line">  console.log(event.currentTarget); // &lt;button onclick=&quot;clickBtn()&quot;&gt;Click me&lt;/button&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h2 id="2-전통적인-DOM-이벤트-핸들러"><a href="#2-전통적인-DOM-이벤트-핸들러" class="headerlink" title="2. 전통적인 DOM 이벤트 핸들러"></a>2. 전통적인 DOM 이벤트 핸들러</h2><p>HTML Event Handler의 보완점:</p>
<ul>
<li>HTML과 Javascript가 혼용되는 문제는 해결</li>
</ul>
<p>단점:</p>
<ul>
<li>이벤트 핸들러에 하나의 함수만을 바인딩할 수 있다.</li>
<li>함수에 인수를 전달할 수 없다.</li>
<li>바인딩된 이벤트 핸들러가 2개 이상일 경우, 제일 마지막에 추가된 코드의 바인딩된 이벤트 핸들러만 실행된다.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;button id=&quot;myBtn&quot;&gt;Click me&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">var myBtn = document.getElementById(&apos;myBtn&apos;);</span><br><span class="line"></span><br><span class="line">// 첫번째 바인딩된 이벤트 핸들러 =&gt; 실행되지 않는다.</span><br><span class="line">myBtn.onclick = function () &#123;</span><br><span class="line">  alert(&apos;Button clicked 1&apos;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// 두번째 바인딩된 이벤트 핸들러</span><br><span class="line">myBtn.onclick = function () &#123;</span><br><span class="line">  alert(&apos;Button clicked 2&apos;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h3 id="전통적인-DOM-이벤트-핸들러-내부의-this"><a href="#전통적인-DOM-이벤트-핸들러-내부의-this" class="headerlink" title="전통적인 DOM 이벤트 핸들러 내부의 this"></a>전통적인 DOM 이벤트 핸들러 내부의 this</h3><p>전통적인 DOM 이벤트 핸들러 방식에서 이벤트 핸들러 내부의 this는 이벤트에 바인딩된 요소를 가리킨다. 이것은 이벤트 객체의 currentTarget 프로퍼티와 같다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;button id=&quot;myButton&quot;&gt;Click me!!!&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">var myBtn = document.getElementById(&apos;myButton&apos;);</span><br><span class="line">myBtn.onclick = function() &#123;</span><br><span class="line">  console.log(this); // &lt;button id=&quot;myButton&quot;&gt;Click me!!!&lt;/button&gt;</span><br><span class="line">  console.log(event.currentTarget); // &lt;button id=&quot;myButton&quot;&gt;Click me!!!&lt;/button&gt;</span><br><span class="line">  console.log(this === event.currentTarget); // true</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>myButton이란 id를 가진 button 요소(myBtn)가 이벤트에 바인딩된 요소를 말한다. 이것은 이벤트 객체의 currentTarget 프로퍼티와 같다.</p>
<p><br></p>
<h2 id="3-Event-Listener를-이용한-이벤트-핸들러"><a href="#3-Event-Listener를-이용한-이벤트-핸들러" class="headerlink" title="3. Event Listener를 이용한 이벤트 핸들러"></a>3. Event Listener를 이용한 이벤트 핸들러</h2><p>addEventListener 함수를 이용하여 대상 요소(Event Target)에 이벤트를 바인딩하고, 해당 이벤트가 발생했을 때 실행될 콜백 함수를 지정한다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">target.addEventListener(type, listener[, useCapture]);</span><br><span class="line"></span><br><span class="line">var el = document.getElementById(&quot;outside&quot;);</span><br><span class="line">el.addEventListener(&quot;click&quot;, function()&#123;modifyText(&quot;four&quot;)&#125;, false);</span><br></pre></td></tr></table></figure>
<p>addEventListener 함수의 인수:</p>
<ul>
<li>type: 이벤트 타입</li>
<li>listener: 이벤트 핸들러, 즉 이벤트가 발생했을 때, 실행될 콜백함수</li>
<li>useCapture: true면 Capturing, false면 Bubbling(Default: false)</li>
</ul>
<p>Event Listener를 이용한 이벤트 핸들러의  장점</p>
<ul>
<li>하나의 이벤트에 대해 하나 이상의 핸들러를 추가할 수 있다.</li>
<li>캡처링(Capturing)과 버블링(Bubbling)을 지원한다.</li>
<li>HTML 요소뿐만아니라 모든 DOM 요소에 대해 동작한다.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;label for=&apos;email&apos;&gt;Your Email&lt;/label&gt;</span><br><span class="line">&lt;input type=&apos;text&apos; id=&apos;email&apos;&gt;</span><br><span class="line"></span><br><span class="line">var elem = document.getElementById(&apos;email&apos;);</span><br><span class="line">elem.addEventListener(&apos;blur&apos;, function() &#123;</span><br><span class="line">  alert(&apos;Your Email!&apos;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>참고로, addEventListener 함수는 IE 9 이상에서 동작한다. IE 8 이하에서는 attachEvent 함수를 사용한다.</p>
<p>만약 addEventListener 함수 앞에 대상요소(elem)를 지정하지 않으면, blur 이벤트는 전역객체 window에 바인딩된다.</p>
<p><br></p>
<h3 id="Event-Listener를-이용한-이벤트-핸들러-내부의-this"><a href="#Event-Listener를-이용한-이벤트-핸들러-내부의-this" class="headerlink" title="Event Listener를 이용한 이벤트 핸들러 내부의 this"></a>Event Listener를 이용한 이벤트 핸들러 내부의 this</h3><p>addEventListener 함수에서 지정한 이벤트 핸들러 내부의 this는 Event Listener에 바인딩된 요소(currentTarget)를 가리킨다. 이것은 이벤트 객체의 currentTarget 프로퍼티와 같다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;button id=&quot;myBtn&quot;&gt;Click me!!!&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">var myBtn = document.getElementById(&apos;myBtn&apos;);</span><br><span class="line">myBtn.addEventListener(&apos;click&apos;, function (event) &#123;</span><br><span class="line">  console.log(this); // &lt;button id=&quot;myBtn&quot;&gt;Click me!!!&lt;/button&gt;</span><br><span class="line">  console.log(event.currentTarget); // &lt;button id=&quot;myBtn&quot;&gt;Click me!!!&lt;/button&gt;</span><br><span class="line">  console.log(this === event.currentTarget); // true</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Javascript/">Javascript</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Event-Binding/">Event Binding</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-event-type"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/09/02/event-type/">Event와 Event 종류</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/09/02/event-type/" class="article-date">
	  <time datetime="2018-09-02T05:29:53.000Z" itemprop="datePublished">September 2, 2018</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Javascript/">Javascript</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Event-이벤트-란-무엇인가"><a href="#Event-이벤트-란-무엇인가" class="headerlink" title="Event(이벤트)란 무엇인가?"></a>Event(이벤트)란 무엇인가?</h1><hr>
<p>이벤트는 어떤 사건을 말한다. 브라우저에서 사건(Event)이란, 예를 들어, 사용자가 어떤 웹페이지에서 버튼을 클릭했을 ‘때’ 또는 어떤 박스에서 값을 입력했을 ‘때’를 의미한다.</p>
<p>이벤트는 이벤트가 발생했을 때, 그에 맞는 대응을 하도록 코드를 작성해야 한다. 이를 위해서는 보통, 이벤트는 함수에 연결되며 그 함수는 이벤트가 발생하기 전에는 실행되지 않다가 이벤트가 발생하면 실행되는데, 이 함수(콜백함수)를 이벤트 핸들러라고 한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var elem = document.getElementById(&apos;alertButton&apos;);</span><br><span class="line">elem.addEventListener(&apos;click&apos;, function() &#123;</span><br><span class="line">  alert(&apos;Hello World&apos;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>id가 alertButton인 DOM 요소의 버튼을 클릭했을 때(이벤트), ‘Hello World’를 보여주는 alert가 실행되는 콜백함수가 이벤트 핸들러이다.</p>
<p><br></p>
<h1 id="Event-종류"><a href="#Event-종류" class="headerlink" title="Event 종류"></a>Event 종류</h1><hr>
<p>브라우저에 사용하는 이벤트는 다양하지만, 자주 사용되거나 대표적인 이벤트만 정리한다.</p>
<p><br></p>
<h2 id="1-UI-Event"><a href="#1-UI-Event" class="headerlink" title="1. UI Event"></a>1. UI Event</h2><hr>
<table>
<thead>
<tr>
<th style="text-align:center">Event</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">load</td>
<td style="text-align:center">웹페이지의 로드가 완료되었을 때</td>
</tr>
<tr>
<td style="text-align:center">unload</td>
<td style="text-align:center">웹페이지가 언로드될 때(주로 새로운 페이지를 요청한 경우)</td>
</tr>
<tr>
<td style="text-align:center">error</td>
<td style="text-align:center">브라우저가 자바스크립트 오류를 만났거나 요청한 자원이 존재하지 않는 경우</td>
</tr>
<tr>
<td style="text-align:center">resize</td>
<td style="text-align:center">브라우저 창의 크기를 조절했을 때</td>
</tr>
<tr>
<td style="text-align:center">scroll</td>
<td style="text-align:center">사용자가 페이지를 위아래로 스크롤할 때</td>
</tr>
<tr>
<td style="text-align:center">select</td>
<td style="text-align:center">텍스트를 선택했을 때</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>load 이벤트를 사용하는 예제<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener(&quot;load&quot;, function(event) &#123;</span><br><span class="line">  console.log(&quot;All resources finished loading!&quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h2 id="2-Keyboard-Event"><a href="#2-Keyboard-Event" class="headerlink" title="2. Keyboard Event"></a>2. Keyboard Event</h2><hr>
<table>
<thead>
<tr>
<th style="text-align:center">Event</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">keydown</td>
<td style="text-align:center">키를 누르고 있을 때</td>
</tr>
<tr>
<td style="text-align:center">keyup</td>
<td style="text-align:center">누르고 있던 키를 뗄 때</td>
</tr>
<tr>
<td style="text-align:center">keypress</td>
<td style="text-align:center">키를 누르고 뗏을 때</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>keyup 이벤트를 사용하는 예제<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">inputTodo.addEventListener(&apos;keyup&apos;, function (e) &#123;</span><br><span class="line">  if (e.keyCode !== 13 || !inputTodo.value) return;</span><br><span class="line">  addTodo(inputTodo.value);</span><br><span class="line">  inputTodo.value = &apos;&apos;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h2 id="3-Mouse-Event"><a href="#3-Mouse-Event" class="headerlink" title="3. Mouse Event"></a>3. Mouse Event</h2><hr>
<table>
<thead>
<tr>
<th style="text-align:center">Event</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">click</td>
<td style="text-align:center">마우스 버튼을 클릭했을 때</td>
</tr>
<tr>
<td style="text-align:center">dbclick</td>
<td style="text-align:center">마우스 버튼을 더블 클릭했을 때</td>
</tr>
<tr>
<td style="text-align:center">mousedown</td>
<td style="text-align:center">마우스 버튼을 누르고 있을 때</td>
</tr>
<tr>
<td style="text-align:center">mouseup</td>
<td style="text-align:center">누르고 있던 마우스 버튼을 뗄 때</td>
</tr>
<tr>
<td style="text-align:center">mousemove</td>
<td style="text-align:center">마우스를 움직일 때 (터치스크린에서 동작하지 않는다)</td>
</tr>
<tr>
<td style="text-align:center">mouseover</td>
<td style="text-align:center">마우스를 요소 위로 움직였을 때 (터치스크린에서 동작하지 않는다)</td>
</tr>
<tr>
<td style="text-align:center">mouseout</td>
<td style="text-align:center">마우스를 요소 밖으로 움직였을 때 (터치스크린에서 동작하지 않는다)</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>click 이벤트를 사용하는 예제<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">todoList.addEventListener(&apos;click&apos;, function (e) &#123;</span><br><span class="line">  if (!e.target || e.target.nodeName !== &apos;SPAN&apos; || e.target.parentNode.nodeName === &apos;LABEL&apos;) return;</span><br><span class="line">  removeTodo(e.target.dataset.id);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h2 id="4-Focus-Event"><a href="#4-Focus-Event" class="headerlink" title="4. Focus Event"></a>4. Focus Event</h2><hr>
<table>
<thead>
<tr>
<th style="text-align:center">Event</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">focus</td>
<td style="text-align:center">요소가 포커스를 얻었을 때</td>
</tr>
<tr>
<td style="text-align:center">blur</td>
<td style="text-align:center">요소가 포커스를 잃었을 때</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>focus와 blur 이벤트를 사용하는 예제<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var form = document.getElementById(&quot;form&quot;);</span><br><span class="line">form.addEventListener(&quot;focus&quot;, function( event ) &#123;</span><br><span class="line">  event.target.style.background = &quot;pink&quot;;</span><br><span class="line">&#125;, true);</span><br><span class="line"></span><br><span class="line">form.addEventListener(&quot;blur&quot;, function( event ) &#123;</span><br><span class="line">  event.target.style.background = &quot;&quot;;</span><br><span class="line">&#125;, true);</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h2 id="5-Form-Event"><a href="#5-Form-Event" class="headerlink" title="5. Form Event"></a>5. Form Event</h2><hr>
<table>
<thead>
<tr>
<th style="text-align:center">Event</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">input</td>
<td style="text-align:center">input 또는 textarea 요소의 값이 변경되었을 때</td>
</tr>
<tr>
<td style="text-align:center">change</td>
<td style="text-align:center">select box, checkbox, radio button의 상태가 변경되었을 때</td>
</tr>
<tr>
<td style="text-align:center">submit</td>
<td style="text-align:center">form을 submit할 때 (버튼 또는 키)</td>
</tr>
<tr>
<td style="text-align:center">reset</td>
<td style="text-align:center">reset 버튼을 클릭할 때 (최근에는 사용 안함)</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>change 이벤트를 사용하는 예제<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">todoList.addEventListener(&apos;change&apos;, function (e) &#123;</span><br><span class="line">  toggleTodoComplete(e.target.id);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">var toggleTodoComplete = function (id) &#123;</span><br><span class="line">  todos = todos.map(function (todo) &#123;</span><br><span class="line">    return todo.id === +id ? Object.assign(&#123;&#125;, todo, &#123; completed: !todo.completed &#125;) : todo;</span><br><span class="line">  &#125; );</span><br><span class="line">  renderTodos();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h2 id="6-Clipboard-Event"><a href="#6-Clipboard-Event" class="headerlink" title="6. Clipboard Event"></a>6. Clipboard Event</h2><hr>
<table>
<thead>
<tr>
<th style="text-align:center">Event</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">cut</td>
<td style="text-align:center">콘텐츠를 잘라내기할 때</td>
</tr>
<tr>
<td style="text-align:center">copy</td>
<td style="text-align:center">콘텐츠를 복사할 때</td>
</tr>
<tr>
<td style="text-align:center">paste</td>
<td style="text-align:center">콘텐츠를 붙여넣기할 때</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>copy 이벤트를 사용하는 예제<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">document.addEventListener(&apos;copy&apos;, function(e)&#123;</span><br><span class="line">    e.clipboardData.setData(&apos;text/plain&apos;, &apos;Hello, world!&apos;);</span><br><span class="line">    e.clipboardData.setData(&apos;text/html&apos;, &apos;&lt;b&gt;Hello, world!&lt;/b&gt;&apos;);</span><br><span class="line">    e.preventDefault(); // We want our data, not data from any selection, to be written to the clipboard</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h2 id="7-Websocket-Event"><a href="#7-Websocket-Event" class="headerlink" title="7. Websocket Event"></a>7. Websocket Event</h2><hr>
<table>
<thead>
<tr>
<th style="text-align:center">Event</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">open</td>
<td style="text-align:center">웹소켓 연결이 되었을 때</td>
</tr>
<tr>
<td style="text-align:center">message</td>
<td style="text-align:center">웹소켓을 통해 메세지가 전달되었을 때</td>
</tr>
<tr>
<td style="text-align:center">error</td>
<td style="text-align:center">몇개의 메세지가 전달이 안된 상태로 웹소켓 연결이 끝났을 때</td>
</tr>
<tr>
<td style="text-align:center">close</td>
<td style="text-align:center">웹소켓 연결이 끝났을 때</td>
</tr>
</tbody>
</table>
<p><br></p>
<h2 id="8-CSS-Animation-Event"><a href="#8-CSS-Animation-Event" class="headerlink" title="8. CSS Animation Event"></a>8. CSS Animation Event</h2><hr>
<table>
<thead>
<tr>
<th style="text-align:center">Event</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">animationstart</td>
<td style="text-align:center">CSS 애니메이션이 시작되었을 때</td>
</tr>
<tr>
<td style="text-align:center">animationend</td>
<td style="text-align:center">CSS 애니메이션이 끝났을 때</td>
</tr>
<tr>
<td style="text-align:center">animationiteration</td>
<td style="text-align:center">CSS 애니메이션이 반복될 때</td>
</tr>
</tbody>
</table>
<p>이외에 다른 이벤트는 <a href="https://developer.mozilla.org/en-US/docs/Web/Events" target="_blank" rel="noopener">MDN</a>에서 확인할 수 있다.</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Javascript/">Javascript</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Event/">Event</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-event-loop-and-concurrency"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/09/02/event-loop-and-concurrency/">Event Loop(이벤트루프)와 Javascript Concurrency(동시성)</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/09/02/event-loop-and-concurrency/" class="article-date">
	  <time datetime="2018-09-02T03:09:06.000Z" itemprop="datePublished">September 2, 2018</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Javascript/">Javascript</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Browser-Architecture"><a href="#Browser-Architecture" class="headerlink" title="Browser Architecture"></a>Browser Architecture</h1><hr>
<p><img src="/images/architecture.png" alt="Browser Architecture"><br>출처: <a href="https://www.zeolearn.com/magazine/understanding-the-javascript-event-loop" target="_blank" rel="noopener">Browser Architecture</a></p>
<p>Browser안에는 위와 같이 자바스크립트엔진 뿐만 아니라 다른 것들이 같이 포함되어 있다.</p>
<ol>
<li>자바스크립트엔진(크롬: V8)<ul>
<li>Heap과 Stack으로 구성되어있고, 자바스크립트가 브라우저에서 실행되는 곳이 자바스크립트엔진, 정확히는 Stack이다.</li>
</ul>
</li>
<li>Web APIs<ul>
<li>비동기 방식으로 호출되는 것들(Timer 함수/DOM Event/Ajax)이 정의되는 영역이다.</li>
</ul>
</li>
<li>Callback Queue<ul>
<li>Web APIs으로부터 옮겨와 자바스크립트엔진의 Stack으로 이동하기 위해 기다리는 곳이다.</li>
</ul>
</li>
<li>Event Loop<ul>
<li>Callback Queue에서 기다리고 있는 비동기 방식으로 호출되는 것들(Timer 함수/DOM Event/Ajax)을 Stack이 완전히 비어있을 때 이동시키는 역할을 한다.</li>
</ul>
</li>
</ol>
<p><br></p>
<h1 id="자바스크립트-기본-특징"><a href="#자바스크립트-기본-특징" class="headerlink" title="자바스크립트 기본 특징"></a>자바스크립트 기본 특징</h1><hr>
<p>자바스크립트는 싱글쓰레드(single-threaded), 즉 1개의 쓰레드를 가지고있다. 1개의 쓰레드를 가지고 있다는 말은 한번에 하나일을 처리한다는 것이다. 자바스크립트엔진의 Stack에서 한번에 하나의 일(함수 호출)을 처리한다는 뜻이다. 그런데, 실제로 자바스크립트 기반의 애플리케이션은 여러가지일이 동시에 일어난다.</p>
<p>왜 그럴까? 이걸 전문적으로 말하면 자바스크립트는 동시성(Concurrency)을 지원한다는 것인데, 어떻게 그럴 수 있을까? 여기서 이벤트루프(Event Loop)에 대한 개념이 나온다.</p>
<p>먼저 동기적(한번에 하나의 일을 처리)으로 작동하는 기본적인 자바스크립트 코드가 돌아가는 원리를 알아보자.</p>
<p><br></p>
<h1 id="기본-자바스크립트-동작-원리"><a href="#기본-자바스크립트-동작-원리" class="headerlink" title="(기본) 자바스크립트 동작 원리"></a>(기본) 자바스크립트 동작 원리</h1><hr>
<p>다시 한번 Architecture를 보자.</p>
<p><img src="/images/architecture.png" alt="Browser Architecture"><br>출처: <a href="https://www.zeolearn.com/magazine/understanding-the-javascript-event-loop" target="_blank" rel="noopener">Browser Architecture</a></p>
<p>비동기로 호출되는 것들(Timer 함수/DOM Event/Ajax)이 없는 자바스크립트 코드의 경우, 자바스크립트엔진의 Stack에서만 하나씩 호출되어 코드가 돌아간다. 즉, Web AIPs, Callback Queue, 그리고 Event Loop 등을 사용하지 않는다.</p>
<p>아래 동기적 코드를 보자.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function multiply(a, b) &#123;</span><br><span class="line">   return a*b;</span><br><span class="line">&#125;</span><br><span class="line">function square(a) &#123;</span><br><span class="line">   const sq = multiply(a, a);</span><br><span class="line"></span><br><span class="line">   console.log(sq);</span><br><span class="line">&#125;</span><br><span class="line">square(3);</span><br></pre></td></tr></table></figure></p>
<p>이 코드는 어떤 순서로 호출되어 값이 나오게 될까?</p>
<p>호출되는 순서는 다음과 같다.</p>
<ol>
<li>square(3) 때문에, square 함수가 먼저 호출된다.</li>
<li>sq에 multiply 함수를 할당하기 위해, multiply 함수가 호출된다.</li>
<li>multiply의 return 값이 나온다.</li>
<li>console.log(sq)의 결과값이 나온다.</li>
</ol>
<p>이 순서를 Stack에서 확인해보자.</p>
<p><img src="/images/sync.gif" alt="동기적 자바스크립트"><br>출처: <a href="https://www.zeolearn.com/magazine/understanding-the-javascript-event-loop" target="_blank" rel="noopener">동기적 자바스크립트</a></p>
<p>위 그림과 같이, Stack에서 push로 하나씩 함수가 쌓이고, pop으로 마지막에 쌓인 것부터 하나씩 호출되어 실행되고, 제거된다. 이런식으로, 한번에 하나씩 순서대로 일이 진행되어, 결과값이 나오게 된다. 이게 동기적 방식이다.</p>
<!-- 제일 먼저 호출되는 함수가 쌓이기 전 가장 먼저 쌓이는 코드가 있는데, 이것을 전역코드라고 한다. 이는, 어떤 함수가 호출되기전 전역에서 먼저 전역 실행컨텍스트가 실행되기 때문에, 이 전역 실행컨텍스트가 먼저 Stack에 쌓이고, 다른 모든 함수가 호출되고 제거된 뒤, 가장 마지막에 Stack에서 제거된다. 이부분에 실행컨텍스트 부분에 자세히 다룬다. -->
<p><br></p>
<h2 id="Error-Maximum-call-stack-size-exceeded"><a href="#Error-Maximum-call-stack-size-exceeded" class="headerlink" title="Error: Maximum call stack size exceeded"></a>Error: Maximum call stack size exceeded</h2><p>Stack안에 쌓이는 각 함수를 Stack Frame이라고 한다. 보통, 이런 각 Stack Frame은 ms(1초=1000ms)안에 동작이 끝난다. 그런데, Stack에는 Stack Frame의 수가 정해져 있고, 이 수를 넘게되면 에러가 발생하게 된다.</p>
<p>아래 코드를 보자.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">  return foo();</span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br></pre></td></tr></table></figure>
<p>위 코드를 작성하고 실행하게 되면, 다음과 같은 에러가 발생한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RangeError: Maximum call stack size exceeded</span><br></pre></td></tr></table></figure></p>
<p>이 에러의 원인은 Stack안에 정해진 Stack Frame의 수를 초과했다는 뜻이다. 즉, foo 함수가 호출될 때, return 값으로 foo 함수가 호출되기 때문에, 계속해서 호출되게 되고, 그 말은 Stack에 계속해서 foo 함수가 쌓인다는 뜻이다. 그래서 정해진 Stack Frame의 수를 초과하게 되어, 위와 같은 에러가 발생하게 된다. 이런 자바스크립트의 Stack에 대한 개념을 모르게되면, 이 에러가 발생했을 때 해결하기가 어려울 수 있다.</p>
<p>그럼, 자바스크립트에 동시성(Concurrency)을 어떻게 지원하는지 알아보자.</p>
<p><br></p>
<h1 id="비동기적-자바스크립트-동작-원리"><a href="#비동기적-자바스크립트-동작-원리" class="headerlink" title="비동기적 자바스크립트 동작 원리"></a>비동기적 자바스크립트 동작 원리</h1><hr>
<p>다시 한번 Architecture를 보자.</p>
<p><img src="/images/architecture.png" alt="Browser Architecture"><br>출처: <a href="https://www.zeolearn.com/magazine/understanding-the-javascript-event-loop" target="_blank" rel="noopener">Browser Architecture</a></p>
<p>비동기로 호출되는 것들(Timer 함수/DOM Event/Ajax)이 있는 자바스크립트 코드의 경우, 자바스크립트엔진의 Stack에서 Web AIPs로 이동하게 되고, 다시 Callback Queue로 이동하게 된다. 그리고 Stack에 있는 모든 함수가 제거되고 난뒤, Event Loop로 인해 Stack으로 이동되어, 함수가 호출되고 제거된다.</p>
<p>아래 비동기적 코드를 보자.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">console.log(&quot;Print this 1st&quot;);</span><br><span class="line">setTimeout(() =&gt; &#123;</span><br><span class="line">   console.log(&quot;Print this 3rd&quot;);</span><br><span class="line">&#125;, 500);</span><br><span class="line">console.log(&quot;Print this 2nd&quot;);</span><br></pre></td></tr></table></figure></p>
<p>이 코드는 어떤 순서로 호출되어 값이 나오게 될까?<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;Print this 1st&quot;</span><br><span class="line">&quot;Print this 2nd&quot;</span><br><span class="line">&quot;Print this 3rd&quot;</span><br></pre></td></tr></table></figure></p>
<p>비동기 함수인 setTimeout 함수가 0.5초뒤에 실행되니, 그 전에 마지막 console.log가 먼저 출력되어, 순서가 저렇게 된것일까? 이 과정을 정확하게 위해서는 이벤트루프(Event Loop) 개념을 이해해야 한다.</p>
<p>이 순서를 Architecture에서 확인해보자.<br>위 코드가 실제로 실행되는 과정은 아래와 같다.</p>
<p><br></p>
<p><img src="/images/async.gif" alt="비동기적 자바스크립트"><br>출처: <a href="https://www.zeolearn.com/magazine/understanding-the-javascript-event-loop" target="_blank" rel="noopener">비동기적 자바스크립트</a></p>
<ol>
<li>먼저, 첫번째 console.log가 호출되고, 제거된다.</li>
<li>그리고, 비동기 함수인 setTimeout 함수가 호출된뒤, Web APIs로 이동한다.</li>
<li>이와 동시에, Stack에서 다음 console.log가 쌓인다.</li>
<li>이동한 setTimeout 함수는 Web APIs에서 0.5초(500ms) 동안 있다가, Callback Queue로 이동한다.</li>
<li>Event Loop는 Stack에 있는 모든 함수가 제거된 것을 확인한 후, Callback Queue에 있는 setTimeout 함수를 Stack으로 보내고 실행한다.</li>
<li>그리고, 그 setTimeout 함수는 Stack에서 제거된다.</li>
</ol>
<p>자바스크립트에서의 비동기적 방식은 위와 같이 진행되기 때문에, 비동기 함수보다 다른 일반 함수들이 먼저 실행되고, 그 다음에 비동기 함수가 진행된다. 결국, 자바스크립트엔진 밖에 있는 Web APIs, Callback Queue, 그리고 Event Loop가 비동기 함수를 따로 관리함으로써 자바스크립트에 동시성이 가능하게 된다. 따라서, 자바스크립트 기반의 애플리케이션은 여러가지 일들이 동시에 발생할 수 있는 것이다.</p>
<p><br></p>
<h1 id="만약-setTimeout-함수의-두번째-인수가-‘0’초면-어떻게-될까"><a href="#만약-setTimeout-함수의-두번째-인수가-‘0’초면-어떻게-될까" class="headerlink" title="만약, setTimeout 함수의 두번째 인수가 ‘0’초면 어떻게 될까?"></a>만약, setTimeout 함수의 두번째 인수가 ‘0’초면 어떻게 될까?</h1><p>아래 코드를 보자.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">console.log(&quot;Print this 1st&quot;);</span><br><span class="line">setTimeout(() =&gt; &#123;</span><br><span class="line">   console.log(&quot;Print this 3rd&quot;);</span><br><span class="line">&#125;, 0);</span><br><span class="line">console.log(&quot;Print this 2nd&quot;);</span><br></pre></td></tr></table></figure></p>
<p>이 코드는 어떤 순서로 호출되어 값이 나오게 될까?<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;Print this 1st&quot;</span><br><span class="line">&quot;Print this 2nd&quot;</span><br><span class="line">&quot;Print this 3rd&quot;</span><br></pre></td></tr></table></figure></p>
<p>이 또한 setTimeout 함수의 두번째 인수가 0.5초일때와 동일하게 나온다. 즉, timer 함수의 시간과 상관없이, 이벤트루프는 Stack에 있는 다른 모든 함수가 제거된 뒤, timer 함수를 Stack으로 이동시키기 때문이다. 단지, Wep APIs에서 0.5초 걸리느냐, 0초 걸리느냐에 차이이다.</p>
<p><br></p>
<h1 id="다른-비동기인-DOM-이벤트의-경우는-어떻게-될까"><a href="#다른-비동기인-DOM-이벤트의-경우는-어떻게-될까" class="headerlink" title="다른 비동기인 DOM 이벤트의 경우는 어떻게 될까?"></a>다른 비동기인 DOM 이벤트의 경우는 어떻게 될까?</h1><p>아래 코드를 보자.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">function func1() &#123;</span><br><span class="line">  console.log(&apos;func1&apos;);</span><br><span class="line">  func2();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function func2() &#123;</span><br><span class="line">  // &lt;button id=&quot;bar&quot;&gt;bar&lt;/button&gt;</span><br><span class="line">  var elem = document.getElementById(&apos;bar&apos;);</span><br><span class="line"></span><br><span class="line">  elem.addEventListener(&apos;click&apos;, function () &#123;</span><br><span class="line">    this.style.backgroundColor = &apos;blue&apos;;</span><br><span class="line">    console.log(&apos;func2&apos;);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  func3();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function func3() &#123;</span><br><span class="line">  console.log(&apos;func3&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func1();</span><br></pre></td></tr></table></figure></p>
<p>위 코드의 실행순서는 다음과 같다.</p>
<ol>
<li>함수 func1()이 호출되면 함수 func1()은 Stack에 쌓인다.</li>
<li>함수 func1()은 함수 func2를 호출하므로 함수 func2()가 Stack에 쌓이고 addEventListener가 호출된다.</li>
<li>이 addEventListener는 Wep APIs로 이동한다.</li>
<li>Stack에는 func3()가 쌓인다. 이때, 만약 bar 버튼이 클릭되면, ‘click’ 이벤트가 발생하게 되어, addEventListener는 Callback Queue로 이동하게 된다.</li>
<li>Stack에 있던 모든 함수가 제거되어 완전히 비어지면, 이벤트 루프는 이 addEventListener를 Stack으로 이동시키고, 실행하게 된다.</li>
</ol>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Javascript/">Javascript</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Event-Loop/">Event Loop</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-ajax"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/08/31/ajax/">Ajax란 무엇인가?</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/08/31/ajax/" class="article-date">
	  <time datetime="2018-08-31T00:48:40.000Z" itemprop="datePublished">August 31, 2018</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Javascript/">Javascript</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Ajax란"><a href="#Ajax란" class="headerlink" title="Ajax란?"></a>Ajax란?</h1><hr>
<p>Ajax는 Asynchronous JavaScript And XML의 약자로, XMLHttpRequest 객체를 이용하여 비동기 방식으로 서버와 통신을 하는 것을 말한다. 웹 브라우저의 클라이언트와 서버간 통신은 url를 이용한 http 통신으로 이루어진다. 즉 브라우저가 서버로 request를 날리기 위해서는 해당 브라우저의 url 주소를 변경하여야 하는데 이때는 페이지 이동이 일어나게 된다. 하지만 ajax 의 경우 브라우저의 url 주소의 변경을 이용하지 않고 내부적으로 통신하여 response 를 받아오기 때문에 특정 데이터만 불러오거나 비동기로 데이터를 불러와야하는 경우 사용된다. 이때 Same Origin Policy 정책으로 인해 cross domain 을 허용하지 않기 때문에 외부 도메인을 사용하여야 하는경우 JSONP, XML 등을 이용하여야 한다.</p>
<p>비동기적이란, 서버에 요청을 하고 그냥 기다리는 것이 아닌, 기다림과 동시에 다른 작업을 할 수 있다는 것을 말한다. Ajax가 가지고 있는 중요 특징은 바로 이 비동기성으로, 서버로부터 웹페이지가 반환될 때, 화면 전체를 갱신하지 않고, 페이지 일부만을 갱신하게 해준다. 즉, 페이지 이동이나 새로고침 없이 페이지 일부만을 갱신할 수 있다. 예를 들어, 사용자가 페이지에서 어떤 이벤트를 발생시키면, 페이지 전체가 아닌 페이지 일부분만을 업데이트해서 보여주기 때문에, 페이지 전체가 Refresh 되지 않아, 사용자가 그 일부의 데이터를 기다리면서, 다른 일을 하여도 문제가 없다.</p>
<p>Ajax를 사용하는 대표적인 애플리케이션이 페이스북 타임라인이다. 페이스북 타임라인을 밑으로 내려가면서 보면, 그 페이스북 페이지 자체는 그대로 있는데, 필요한 타임라인 데이터만 받아올 수 있다. 웹 사이트 중 페이지 전환없이 새로운 데이터를 불러오는 사이트는 대부분 Ajax 기술을 사용하고 있다.</p>
<p><br></p>
<h1 id="JSON이란"><a href="#JSON이란" class="headerlink" title="JSON이란?"></a>JSON이란?</h1><hr>
<p>JSON은 JavaScript Object Notation의 약자로, 클라이언트와 서버간에 데이터를 교환하기 위해 필요한 데이터 포맷을 말한다. 예전에는 데이터 교환을 위한 데이터 포맷으로 XML을 사용했으나, 요즘에는 데이터 구조화도 잘 되어있고, 가볍고 가독성이 좋은 JSON을 사용한다. JSON의 형태는 자바스크립트의 객체 리터럴과 비슷하지만, 순수 문자열로 구성된 규칙이 있는 구조화된 데이터 포맷이다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;id&quot;: 1,</span><br><span class="line">  &quot;content&quot;: &quot;HTML&quot;,</span><br><span class="line">  &quot;completed&quot;: false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>JSON의 이름(key)는 반드시 큰따옴표(“”)로 둘러싸야 한다.(작은따옴표(‘’)는 사용이 안된다.)</p>
<p><br></p>
<h2 id="JSON-parse-amp-JSON-stringify"><a href="#JSON-parse-amp-JSON-stringify" class="headerlink" title="JSON.parse() &amp; JSON.stringify()"></a>JSON.parse() &amp; JSON.stringify()</h2><hr>
<p>클라이언트와 서버간에 통신을 할때는, JSON 형태, 즉 문자열로 데이터를 주고 받는다. 그러나, 서버로부터 응답받은 데이터를 클라이언트(브라우저)에서 사용하기 위해서는 JSON 형태의 문자열을 객체로 바꿔줘야 한다. 이를 역직렬화(Deserializing)이라고 하는데, 이를 위해서는 내장 객체 JSON의 static 메소드인 JSON.parse()를 사용해야 한다.</p>
<p>이와 반대로, 클라이언트(브라우저)에서 서버로 데이터를 보내기 위해서는 객체를 문자열로 바꿔줘야 한다. 이때는 JSON.stringify()를 사용해야 한다.</p>
<p><a href="https://medium.com/@cheonmyung0217/%EA%B5%AC%ED%98%84-json-stringify-%EB%A5%BC-%EC%9E%AC%EA%B7%80%ED%95%A8%EC%88%98%EB%A1%9C-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0-972f08622562" target="_blank" rel="noopener">JSON.stringify()</a>에 대해 자세히 확인해보자.</p>
<p><br></p>
<h1 id="Ajax-Request-amp-Response"><a href="#Ajax-Request-amp-Response" class="headerlink" title="Ajax Request &amp; Response"></a>Ajax Request &amp; Response</h1><hr>
<p>Javascript를 이용해서 서버로 보내는 Ajax Request를 만들기 위해서는 XMLHttpRequest 객체를 사용해서 Ajax 요청을 생성하고 전송한다. 서버로부터 응답을 받을때도 XMLHttpRequest 객체를 사용해서 처리한다. 즉, XMLHttpRequest 객체의 프로퍼티 및 메소드를 사용하여 코드를 작성한다.</p>
<p>코드 작성시, 크게 3가지로 나눌 수 있다.</p>
<ol>
<li>서버로 요청 보내기</li>
<li>서버로 요청보낼때, Request Header 보내기</li>
<li>서버로부터 받은 응답 처리하기</li>
</ol>
<p><br></p>
<h2 id="1-Ajax-Request-보내기"><a href="#1-Ajax-Request-보내기" class="headerlink" title="1. Ajax Request 보내기"></a>1. Ajax Request 보내기</h2><hr>
<p>XMLHttpRequest 객체를 사용해서 Ajax 요청 처리에 대한 코드는 다음과 같다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var xhr = new XMLHttpRequest();</span><br><span class="line">xhr.open(&apos;GET&apos;, &apos;/users&apos;);</span><br><span class="line">xhr.send();</span><br></pre></td></tr></table></figure>
<p><br></p>
<h3 id="1-1-XMLHttpRequest-인스턴스-생성"><a href="#1-1-XMLHttpRequest-인스턴스-생성" class="headerlink" title="1-1. XMLHttpRequest 인스턴스 생성"></a>1-1. XMLHttpRequest 인스턴스 생성</h3><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// XMLHttpRequest 생성자로 xhr 인스턴스를 생성</span><br><span class="line">var xhr = new XMLHttpRequest();</span><br></pre></td></tr></table></figure>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" target="_blank" rel="noopener">XMLHttpRequest 객체</a>는 다양한 프로퍼티 및 메소드를 가지고 있다.</p>
<p><br></p>
<h3 id="1-2-XMLHttpRequest-open-으로-요청-준비"><a href="#1-2-XMLHttpRequest-open-으로-요청-준비" class="headerlink" title="1-2. XMLHttpRequest.open()으로 요청 준비"></a>1-2. XMLHttpRequest.open()으로 요청 준비</h3><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// XMLHttpRequest가 가지고 있는 open 메소드로 요청을 준비</span><br><span class="line">xhr.open(&apos;GET&apos;, &apos;/users&apos;);</span><br></pre></td></tr></table></figure>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/open" target="_blank" rel="noopener">XMLHttpRequest.open 메소드</a>를 사용할 때, 인수는 다음과 같다.</p>
<ul>
<li>첫번째 인수: HTTP Method(GET/POST/PUT/PATCH/DELETE 등)를 사용</li>
<li>두번째 인수: 요청 보낼 URL</li>
<li>세번째 인수(옵션): async로 비동기를 나타낸다.(true면 비동기, false면 동기인데, 아무것도 작성안하면 default로 비동기이다.)</li>
</ul>
<p><br></p>
<h3 id="1-3-XMLHttpRequest-send-로-요청-전송"><a href="#1-3-XMLHttpRequest-send-로-요청-전송" class="headerlink" title="1-3. XMLHttpRequest.send()로 요청 전송"></a>1-3. XMLHttpRequest.send()로 요청 전송</h3><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// XMLHttpRequest가 가지고 있는 send 메소드로 요청을 전송</span><br><span class="line">xhr.send();</span><br></pre></td></tr></table></figure>
<p>서버에 요청을 준비하는 단계를 보자.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xhr.open(&apos;GET&apos;, &apos;/users&apos;);</span><br></pre></td></tr></table></figure></p>
<p>이때 HTTP Method로 ‘GET’을 사용하게 되면, URL의 일부분인 query string(쿼리문자열)로 데이터를 서버로 전송하기 때문에, send 메소드에 인수로 데이터를 보낼 필요가 없다. send 메소드에 인수를 Request Body라고 하는데, 이부분이 null이 되어, 무시된다.</p>
<p>그럼 만약, ‘GET’이 아닌 ‘POST’를 하게되면 어떻게 될까?</p>
<p><br></p>
<h2 id="2-서버로-요청보낼때-Request-Header-보내기"><a href="#2-서버로-요청보낼때-Request-Header-보내기" class="headerlink" title="2. 서버로 요청보낼때, Request Header 보내기"></a>2. 서버로 요청보낼때, Request Header 보내기</h2><hr>
<p>‘POST’의 경우, 데이터(payload)를 Request Body에 담아 전송한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xhr.send((&#123;</span><br><span class="line">  name: &quot;donald&quot;,</span><br><span class="line">  country: &quot;United States&quot;</span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure></p>
<p>이럴 경우, XMLHttpRequest.setRequestHeader() 메소드를 사용해서, HTTP Request Header의 값을 설정해야 한다. 이때, setRequestHeader 메소드는 open 메소드 다음에, send 메소드 전에 호출해야 한다. 다음과 같이 작성하면 된다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">xhr.open(&apos;POST&apos;, &apos;/users&apos;);</span><br><span class="line">xhr.setRequestHeader(&apos;Content-type&apos;, &apos;application/json&apos;);</span><br><span class="line">xhr.send(&#123;</span><br><span class="line">  name: &quot;donald&quot;,</span><br><span class="line">  country: &quot;United States&quot;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/setRequestHeader" target="_blank" rel="noopener">setRequestHeader 메소드</a>를 사용할 때, 인수는 다음과 같다.</p>
<ul>
<li>첫번째 인수: 자주 사용하는 Request Header인 Content-type 또는 Accept을 사용한다.</li>
<li>두번째 인수: MIME 타입</li>
</ul>
<p>예를 들어, 아래와 같은 코드를 보자.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xhr.setRequestHeader(&apos;Content-type&apos;, &apos;application/json&apos;);</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h3 id="‘Content-type’은-Request-Body에-담아-전송할-데이터의-MIME-type을-지정할-때-사용한다"><a href="#‘Content-type’은-Request-Body에-담아-전송할-데이터의-MIME-type을-지정할-때-사용한다" class="headerlink" title="‘Content-type’은 Request Body에 담아 전송할 데이터의 MIME-type을 지정할 때 사용한다."></a>‘Content-type’은 Request Body에 담아 전송할 데이터의 MIME-type을 지정할 때 사용한다.</h3><p><a href="https://developer.mozilla.org/ko/docs/Web/HTTP/Basics_of_HTTP/MIME_types" target="_blank" rel="noopener">MIME-type</a>은 아래 테이블에 있는 타입들이며, 사용시에는 아래 서브타입처럼 작성한다.</p>
<table>
<thead>
<tr>
<th style="text-align:center">타입</th>
<th style="text-align:center">서브타입</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">text 타입</td>
<td style="text-align:center">text/plain, text/html, text/css, text/javascript</td>
</tr>
<tr>
<td style="text-align:center">Application 타입</td>
<td style="text-align:center">application/json, application/x-www-form-urlencode</td>
</tr>
<tr>
<td style="text-align:center">File 업로드하기 위한 타입</td>
<td style="text-align:center">multipart/formed-date</td>
</tr>
</tbody>
</table>
<p>Request Body에 담아 전송할 데이터의 MIME-type을 지정하는 예제 코드는 다음과 같다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">xhr.open(&apos;POST&apos;, &apos;/users&apos;);</span><br><span class="line">xhr.setRequestHeader(&apos;Content-type&apos;, &apos;application/json&apos;);</span><br><span class="line">xhr.send(JSON.stringify(&#123;</span><br><span class="line">  name: &quot;donald&quot;,</span><br><span class="line">  country: &quot;United States&quot;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h3 id="‘Accept’은-HTTP-클라이언트가-서버에-요청할-때-서버가-센드백할-데이터의-MIME-type을-지정할-때-사용한다"><a href="#‘Accept’은-HTTP-클라이언트가-서버에-요청할-때-서버가-센드백할-데이터의-MIME-type을-지정할-때-사용한다" class="headerlink" title="‘Accept’은 HTTP 클라이언트가 서버에 요청할 때, 서버가 센드백할 데이터의 MIME-type을 지정할 때 사용한다."></a>‘Accept’은 HTTP 클라이언트가 서버에 요청할 때, 서버가 센드백할 데이터의 MIME-type을 지정할 때 사용한다.</h3><p>예를 들어, 아래와 같이 작성한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xhr.setRequestHeader(&apos;Accept&apos;, &apos;application/json&apos;);</span><br></pre></td></tr></table></figure></p>
<p>만약 ‘Accept’ 헤더를 설정하지 않을 경우, send 메소드가 호출될 때, ‘Accept’ 헤더가 <em>/</em>와 함께 전송된다.<br>(<em>/</em>은 모든 MIME 타입을 의미한다.)</p>
<p>자세한 ‘Accept’에 대한 개념은 <a href="https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/Accept" target="_blank" rel="noopener">MDN</a>에서 확인해보자.</p>
<p>클라이언트와 서버사이에서의 Request &amp; Response Message는 다음과 같다.</p>
<p><img src="/images/HTTP_request+response_message.gif" alt="HTTP Request and Resopnse Message"><br>출처: <a href="http://www.fmc-modeling.org/category/projects/apache/amp/2_3Protocols_Standards.html" target="_blank" rel="noopener">HTTP Request and Resopnse Message</a></p>
<p><br></p>
<h2 id="3-서버로부터-받은-응답-처리하기"><a href="#3-서버로부터-받은-응답-처리하기" class="headerlink" title="3. 서버로부터 받은 응답 처리하기"></a>3. 서버로부터 받은 응답 처리하기</h2><hr>
<p>XMLHttpRequest 객체를 사용해서 Ajax 응답 처리에 대한 코드는 다음과 같다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">xhr.onreadystatechange = function (e) &#123;</span><br><span class="line">  if (xhr.readyState === XMLHttpRequest.DONE) &#123;</span><br><span class="line">    if(xhr.status === 200) &#123;</span><br><span class="line">      console.log(xhr.responseText);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      console.log(&apos;Error!&apos;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h3 id="3-1-XMLHttpRequest-onreadystatechange-호출"><a href="#3-1-XMLHttpRequest-onreadystatechange-호출" class="headerlink" title="3-1. XMLHttpRequest.onreadystatechange 호출"></a>3-1. XMLHttpRequest.onreadystatechange 호출</h3><p>XMLHttpRequest가 가지고 있는 readyState 프로퍼티가 변경(사용자로부터 이벤트 발생) 될 때마다, XMLHttpRequest가 가지고 있는 프로퍼티인 onreadystatechange(이벤트 핸들러)를 호출한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xhr.onreadystatechange = function (e) &#123;</span><br><span class="line">  // readyState 프로퍼티가 변경될 때마다, 이 함수를 호출</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h3 id="3-2-XMLHttpRequest-readyState로-서버가-응답했는지-확인"><a href="#3-2-XMLHttpRequest-readyState로-서버가-응답했는지-확인" class="headerlink" title="3-2. XMLHttpRequest.readyState로 서버가 응답했는지 확인"></a>3-2. XMLHttpRequest.readyState로 서버가 응답했는지 확인</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (xhr.readyState === XMLHttpRequest.DONE) &#123;</span><br><span class="line">  // readyState가 완료되면, 이 함수를 호출</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>XMLHttpRequest.readyState의 값은 아래와 같다.</p>
<table>
<thead>
<tr>
<th style="text-align:center">Value</th>
<th style="text-align:center">State</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">UNSENT</td>
<td style="text-align:center">XMLHttpRequest.open() 메소드 호출 이전</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">OPENED</td>
<td style="text-align:center">XMLHttpRequest.open() 메소드 호출 완료</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">HEADERS_RECEIVED</td>
<td style="text-align:center">XMLHttpRequest.send() 메소드 호출 완료</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">LOADING</td>
<td style="text-align:center">서버 응답 중(XMLHttpRequest.responseText 미완성 상태)</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">DONE</td>
<td style="text-align:center">서버 응답 완료</td>
</tr>
</tbody>
</table>
<p>xhr.readyState의 값이 4(DONE)이면, 서버가 응답을 완료했다는 뜻이다.</p>
<p><br></p>
<h3 id="3-3-XMLHttpRequest-status로-정상-응답인지-확인"><a href="#3-3-XMLHttpRequest-status로-정상-응답인지-확인" class="headerlink" title="3-3. XMLHttpRequest.status로 정상 응답인지 확인"></a>3-3. XMLHttpRequest.status로 정상 응답인지 확인</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if(xhr.status === 200) &#123;</span><br><span class="line">  console.log(xhr.responseText);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">  console.log(&apos;Error!&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>응답코드가 200번 대 숫자면 정상 응답이므로, xhr.status가 정상적인 응답코드이면, 서버로부터 전송되는 데이터가 담겨 있는 xhr.responseText가 클라이언트로 전달된다.</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Javascript/">Javascript</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ajax/">Ajax</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-rest-api"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/08/30/rest-api/">REST API란 무엇인가?</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/08/30/rest-api/" class="article-date">
	  <time datetime="2018-08-30T04:06:44.000Z" itemprop="datePublished">August 30, 2018</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Javascript/">Javascript</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="REST-API란"><a href="#REST-API란" class="headerlink" title="REST API란?"></a>REST API란?</h1><hr>
<p>REpresentational State Transfer의 약자로, 서버의 자원을 정의하고, 자원에 대한 주소를 지정하는 방법(표기법)을 말한다. 2000년, 아파치 HTTP 서버 프로젝트의 공동설립자인 Roy fielding(로이 필딩)에 의해 처음 소개가 되었는데, 이 분은 HTTP/1.0,1.1 스펙 작성에 참여하신 분이다.</p>
<p>그는 웹의 장점을 최대한 활용할 수 있는 Architecture로써 REST를 소개하면서, REST API 규칙을 만들었다. 이런 REST API 규칙을 잘 지킨 서비스 디자인을 “RESTful”하다고 표현한다. REST API는 HTPP 프로토콜을 정확히 의도에 맞게 활용하여 디자인하게 유도하기 때문에, 디자인 기준이 명확해지고, 의미적인 범용성을 지닌다. 즉, 서버가 이해하기 쉽게 자원에 대한 주소를 지정하는 표기법이 REST API이다.</p>
<p><br></p>
<h1 id="REST-API-구성-요소"><a href="#REST-API-구성-요소" class="headerlink" title="REST API 구성 요소"></a>REST API 구성 요소</h1><hr>
<p>REST API를 구성하는 것은 다음과 같이 3가지가 있다.</p>
<ul>
<li>자원(Resource)</li>
<li>행위(Verb)</li>
<li>표현(Representation)</li>
</ul>
<p><br></p>
<h2 id="자원-Resource"><a href="#자원-Resource" class="headerlink" title="자원(Resource)"></a>자원(Resource)</h2><hr>
<p>자원(Resource)이란, 해당 소프트웨어가 관리하는 모든 것이 될 수 있다.<br>JSON, XML 등의 문서가 될 수 있고, 그림파일이 될 수도 있다.<br>즉, 어떤 데이터(문서, 파일, 비디오 등)를 말한다.</p>
<p>예를 들어, 서버 데이터베이스에 사용자들에 대한 정보가 들어가 있다면, 이 사용자들의 정보가 데이터이기 때문에, 자원(Resource)이 된다. 이때, 이 사용자들에 대한 데이터를 대표하는 이름을 users라고 해보자. 만약, 이 사용자들 중에서 어떤 한 명의 사용자에 대한 자원을 얻고자 한다면 어떻게 해야할까? 그럴때는, users/id 처럼, 사용자들 중 특정 id로 사용자를 구분해서 사용할 수 있다.</p>
<p>자원(Resource)은 HTTP URI로 표현한다. 예를 들어, <a href="http://localhost:4000/users/1" target="_blank" rel="noopener">http://localhost:4000/users/1</a> 이런식으로 작성하며, 이 URI를 이용하여 원하는 자원(Resource)에 접근할 수 있다.</p>
<p><br></p>
<h2 id="행위-Verb"><a href="#행위-Verb" class="headerlink" title="행위(Verb)"></a>행위(Verb)</h2><hr>
<p>REST API에서 말하는 행위(Verb)는 자원에 대한 행위를 말한다. 즉, HTTP Method를 사용해서 자원을 얻거나, 만들거나, 변경하거나, 삭제하는 등의 행위를 할 수 있다.</p>
<p>HTTP Method 중 대표적으로 자주 사용되는 메서드는 다음과 같다.</p>
<ul>
<li>GET : 서버 자원을 가져오고자 할 때 사용한다.(Retrieve: 모든/특정 자원을 조회)</li>
<li>POST : 서버에 자원을 새로 등록하고자 할 때 사용한다.(Create: 자원을 생성)</li>
<li>PUT : 서버의 자원을 새로 요청한 자원으로 변경하고자 할 때 사용한다.(Update: 자원을 갱신)</li>
<li>PATCH : 서버 자원의 일부만 수정하고자 할 때 사용한다.</li>
<li>DELETE : 서버의 자원을 삭제하고자 할 때 사용한다.(Delete: 자원을 삭제)</li>
</ul>
<p>위 4가지(GET/POST/PUT/DELETE)를 이용해서 <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete" target="_blank" rel="noopener">CRUD</a>를 구현할 수 있다.</p>
<p><br></p>
<h2 id="표현-Representation"><a href="#표현-Representation" class="headerlink" title="표현(Representation)"></a>표현(Representation)</h2><hr>
<p>표현(Representation)은 자원에 대한 행위의 내용을 말하는데, 이때 내용은 서버에 요청할 때 무엇인가를 새로 생성하거나, 변경할 때 필요한 내용을 말한다. 이때, HTTP Message인 payload를 사용한다.</p>
<p>서버 자원에 무언가 새로운 것을 생성할 때, HTTP Method 중 POST와 함께 payload를 같이 요청한다. 예를 들어, 사용자들에 대한 정보가 있는 users에 새로운 사용자 정보를 생성하고 싶다면, 이 새로운 사용자에 대한 정보를 새로 만들어서 추가해줘야 하는데, 이것을 payload라고 한다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">POST http://localhost:4000/users/</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;id&quot;: 1,</span><br><span class="line">  &quot;name: &quot;Ro&quot;,</span><br><span class="line">  &quot;country&quot;: &quot;Korea&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>위 객체를 payload라고 하는데, 위 자원(<a href="http://localhost:4000/users/" target="_blank" rel="noopener">http://localhost:4000/users/</a>) 에 POST 방식으로 위 payload(객체)와 함께 서버에 요청을 해야한다.</p>
<p><br></p>
<h1 id="REST-API-중심-규칙"><a href="#REST-API-중심-규칙" class="headerlink" title="REST API 중심 규칙"></a>REST API 중심 규칙</h1><hr>
<p>위와 같은 내용을 잘 정리한 것이 REST API 중심 규칙이다.<br>REST한 API를 설계하기 위한 중심 규칙은 대표적으로 2가지이다.</p>
<p><br></p>
<h2 id="1-URI는-정보의-자원을-표현해야-한다"><a href="#1-URI는-정보의-자원을-표현해야-한다" class="headerlink" title="1. URI는 정보의 자원을 표현해야 한다."></a>1. URI는 정보의 자원을 표현해야 한다.</h2><hr>
<p>URI는 정보의 자원을 표현하는데 중점을 두어야 하기 때문에, 어떤 행위를 나타내는 동사보다는 자원의 의미를 명확히 전달하기 위해 명사를 사용해야 한다.</p>
<p>id가 1인 사용자에 대한 자원을 얻고 싶다면, 다음과 같이 작성해야 한다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /users/1</span><br></pre></td></tr></table></figure>
<p>행위를 나타내는 다음과 같은 URI는 잘못된 방법이다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET /getUsers/1</span><br><span class="line">GET /users/show/1</span><br></pre></td></tr></table></figure>
<p><br></p>
<h2 id="2-자원에-대한-행위는-HTTP-Method로-표현한다"><a href="#2-자원에-대한-행위는-HTTP-Method로-표현한다" class="headerlink" title="2. 자원에 대한 행위는 HTTP Method로 표현한다."></a>2. 자원에 대한 행위는 HTTP Method로 표현한다.</h2><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE /users/1</span><br></pre></td></tr></table></figure>
<p><br></p>
<h1 id="REST-API-Architecture"><a href="#REST-API-Architecture" class="headerlink" title="REST API Architecture"></a>REST API Architecture</h1><hr>
<p>REST API는 자원과 메서드만 보고 요청의 내용을 명확하게 알 수 있다는 것이 장점이다.</p>
<p>이런 REST API의 Architecture를 보면 다음과 같다.</p>
<p><img src="/images/rest-api.jpg" alt="REST API Architecture"><br>출처: <a href="https://shareurcodes.com/blog/creating%20a%20simple%20rest%20api%20in%20php" target="_blank" rel="noopener">REST API Architecture</a></p>
<p>어떤 클라이언트(웹브라우저/안드로이드 앱/ios 앱)에서 서버에 요청을 할 때 HTTP 통신을 하고, HTTP Method를 사용하여 원하는 행위를 하여 서버로부터 응답을 받는다.</p>
<p><br></p>
<h1 id="REST-API-사용-예제"><a href="#REST-API-사용-예제" class="headerlink" title="REST API 사용 예제"></a>REST API 사용 예제</h1><hr>
<p>Ajax를 사용하여 REST API를 어떻게 사용하는지 알아보자.</p>
<p>사용자에 대한 정보인 users 데이터는 다음과 같다고 해보자.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;users&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;id&quot;: 1,</span><br><span class="line">      &quot;name&quot;: &quot;Ro&quot;,</span><br><span class="line">      &quot;country&quot;: &quot;Korea&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;id&quot;: 2,</span><br><span class="line">      &quot;name&quot;: &quot;John&quot;,</span><br><span class="line">      &quot;country&quot;: &quot;Canada&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;id&quot;: 3,</span><br><span class="line">      &quot;name&quot;: &quot;Doh&quot;,</span><br><span class="line">      &quot;country&quot;: &quot;China&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;id&quot;: 4,</span><br><span class="line">      &quot;name&quot;: &quot;Hitaro&quot;,</span><br><span class="line">      &quot;country&quot;: &quot;Japan&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h2 id="1-GET"><a href="#1-GET" class="headerlink" title="1. GET"></a>1. GET</h2><hr>
<h3 id="1-1-users-자원에서-모든-사용자의-정보를-가져온다-모든-사용자"><a href="#1-1-users-자원에서-모든-사용자의-정보를-가져온다-모든-사용자" class="headerlink" title="1-1. users 자원에서 모든 사용자의 정보를 가져온다.(모든 사용자)"></a>1-1. users 자원에서 모든 사용자의 정보를 가져온다.(모든 사용자)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET http://localhost:4000/users</span><br></pre></td></tr></table></figure>
<p>위와 같이 users에 대한 자원을 GET하게 되면 다음과 같이 모든 users에 대한 정보를 가져올 수 있다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;id&quot;: 1,</span><br><span class="line">      &quot;name&quot;: &quot;Ro&quot;,</span><br><span class="line">      &quot;country&quot;: &quot;Korea&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;id&quot;: 2,</span><br><span class="line">      &quot;name&quot;: &quot;John&quot;,</span><br><span class="line">      &quot;country&quot;: &quot;Canada&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;id&quot;: 3,</span><br><span class="line">      &quot;name&quot;: &quot;Doh&quot;,</span><br><span class="line">      &quot;country&quot;: &quot;China&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;id&quot;: 4,</span><br><span class="line">      &quot;name&quot;: &quot;Hitaro&quot;,</span><br><span class="line">      &quot;country&quot;: &quot;Japan&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br></pre></td></tr></table></figure>
<p>이것을 코드로 작성하면 다음과 같다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var req = new XMLHttpRequest();</span><br><span class="line">req.open(&apos;GET&apos;, &apos;http://localhost:4000/users&apos;);</span><br><span class="line">req.send();</span><br><span class="line"></span><br><span class="line">req.onreadystatechange = function (e) &#123;</span><br><span class="line">  if (req.readyState === XMLHttpRequest.DONE) &#123;</span><br><span class="line">    if(req.status === 200) &#123;</span><br><span class="line">      console.log(req.responseText);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      console.log(&quot;Error!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h3 id="1-2-users-자원에서-id가-1인-사용자의-정보를-가져온다-특정-사용자"><a href="#1-2-users-자원에서-id가-1인-사용자의-정보를-가져온다-특정-사용자" class="headerlink" title="1-2. users 자원에서 id가 1인 사용자의 정보를 가져온다.(특정 사용자)"></a>1-2. users 자원에서 id가 1인 사용자의 정보를 가져온다.(특정 사용자)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET http://localhost:4000/users/1</span><br></pre></td></tr></table></figure>
<p>위와 같이 users 자원에서 id가 1인 사용자에 대한 자원을 GET하게 되면 다음과 같이 id가 1인 사용자에 대한 정보를 가져올 수 있다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;id&quot;: 1,</span><br><span class="line">  &quot;name&quot;: &quot;Ro&quot;,</span><br><span class="line">  &quot;country&quot;: &quot;Korea&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이것을 코드로 작성하면 다음과 같다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var req = new XMLHttpRequest();</span><br><span class="line">req.open(&apos;GET&apos;, &apos;http://localhost:4000/users/1&apos;);</span><br><span class="line">req.send();</span><br><span class="line"></span><br><span class="line">req.onreadystatechange = function (e) &#123;</span><br><span class="line">  if (req.readyState === XMLHttpRequest.DONE) &#123;</span><br><span class="line">    if(req.status === 200) &#123;</span><br><span class="line">      console.log(req.responseText);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      console.log(&quot;Error!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h2 id="2-POST"><a href="#2-POST" class="headerlink" title="2. POST"></a>2. POST</h2><h3 id="users-자원에-새로운-사용자의-정보를-생성한다"><a href="#users-자원에-새로운-사용자의-정보를-생성한다" class="headerlink" title="users 자원에 새로운 사용자의 정보를 생성한다."></a>users 자원에 새로운 사용자의 정보를 생성한다.</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">POST http://localhost:4000/users</span><br><span class="line">&quot;Content-Type: application/json&quot;</span><br><span class="line">&apos;&#123;&quot;name&quot;: &quot;donald&quot;, &quot;country&quot;: &quot;United States&quot;&#125;&apos;</span><br></pre></td></tr></table></figure>
<p>새로운 사용자의 정보를 생성하기 위해서는 payload가 필요하며, 위와 같이 Content-Type 등을 추가로 작성해야 한다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;donald&quot;,</span><br><span class="line">  &quot;country&quot;: &quot;United States&quot;,</span><br><span class="line">  &quot;id&quot;: 5</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이것을 코드로 작성하면 다음과 같다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">var req = new XMLHttpRequest();</span><br><span class="line">req.open(&apos;POST&apos;, &apos;http://localhost:4000/users&apos;);</span><br><span class="line">req.setRequestHeader(&apos;Content-type&apos;, &apos;application/json&apos;);</span><br><span class="line">req.send(JSON.stringify(&#123;</span><br><span class="line">  name: &quot;donald&quot;,</span><br><span class="line">  country: &quot;United States&quot;</span><br><span class="line">&#125;));</span><br><span class="line"></span><br><span class="line">req.onreadystatechange = function (e) &#123;</span><br><span class="line">  if (req.readyState === XMLHttpRequest.DONE) &#123;</span><br><span class="line">    if(req.status === 201) &#123;</span><br><span class="line">      console.log(req.responseText);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      console.log(&quot;Error!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h2 id="3-PUT"><a href="#3-PUT" class="headerlink" title="3. PUT"></a>3. PUT</h2><h3 id="users-자원에서-새로-추가된-name을-jack으로-변경한다"><a href="#users-자원에서-새로-추가된-name을-jack으로-변경한다" class="headerlink" title="users 자원에서 새로 추가된 name을 jack으로 변경한다."></a>users 자원에서 새로 추가된 name을 jack으로 변경한다.</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PUT http://localhost:4000/users/5</span><br><span class="line">&quot;Content-Type: application/json&quot;</span><br><span class="line">&apos;&#123;&quot;name&quot;: &quot;jack&quot;, &quot;country&quot;: &quot;United States&quot;&#125;&apos;</span><br></pre></td></tr></table></figure>
<p>PUT은 특정 id에 대한 어떤 정보를 변경할 때, payload에 모든 정보를 포함해서 보내준다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;jack&quot;,</span><br><span class="line">  &quot;country&quot;: &quot;United States&quot;,</span><br><span class="line">  &quot;id&quot;: 5</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이것을 코드로 작성하면 다음과 같다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">var req = new XMLHttpRequest();</span><br><span class="line">req.open(&apos;PUT&apos;, &apos;http://localhost:4000/users/5&apos;);</span><br><span class="line">req.setRequestHeader(&apos;Content-type&apos;, &apos;application/json&apos;);</span><br><span class="line">req.send(JSON.stringify(&#123;</span><br><span class="line">  name: &apos;jack&apos;,</span><br><span class="line">  country: &quot;United States&quot;</span><br><span class="line">&#125;));</span><br><span class="line"></span><br><span class="line">req.onreadystatechange = function (e) &#123;</span><br><span class="line">  if (req.readyState === XMLHttpRequest.DONE) &#123;</span><br><span class="line">    if(req.status === 200) &#123;</span><br><span class="line">      console.log(req.responseText);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      console.log(&quot;Error!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h2 id="4-DELETE"><a href="#4-DELETE" class="headerlink" title="4. DELETE"></a>4. DELETE</h2><h3 id="users-자원에서-id가-5인-사용자를-삭제한다"><a href="#users-자원에서-id가-5인-사용자를-삭제한다" class="headerlink" title="users 자원에서 id가 5인 사용자를 삭제한다."></a>users 자원에서 id가 5인 사용자를 삭제한다.</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE http://localhost:4000/users/5</span><br></pre></td></tr></table></figure>
<p>사용자의 id까지 포함해서 DELETE 해야한다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>이것을 코드로 작성하면 다음과 같다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var req = new XMLHttpRequest();</span><br><span class="line">req.open(&apos;DELETE&apos;, &apos;http://localhost:4000/users/5&apos;);</span><br><span class="line">req.send();</span><br><span class="line"></span><br><span class="line">req.onreadystatechange = function (e) &#123;</span><br><span class="line">  if (req.readyState === XMLHttpRequest.DONE) &#123;</span><br><span class="line">    if(req.status === 200) &#123;</span><br><span class="line">      console.log(req.responseText);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      console.log(&quot;Error!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<!-- <br> -->
<!-- 위 코드는 자바스크립트 바닐라로 작성했기 때문에, 코드의 양이 많을 수 있다.
HTTP client 작성을 위한 Promise 기반의 라이브러리 [axios](https://github.com/axios/axios)를 사용하면 보다 더 쉽게 작성할 수 있다. -->
      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Javascript/">Javascript</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/REST-API/">REST API</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-typescript-compiler"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/08/08/typescript-compiler/">트랜스파일링을 위한 typescript 개발환경 구축 방법</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/08/08/typescript-compiler/" class="article-date">
	  <time datetime="2018-08-08T06:19:55.000Z" itemprop="datePublished">August 8, 2018</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/typescript/">typescript</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Typescript와-트랜스파일링"><a href="#Typescript와-트랜스파일링" class="headerlink" title="Typescript와 트랜스파일링"></a>Typescript와 트랜스파일링</h1><hr>
<p>자바스크립트의 문제점을 보완하기 위해 typescript을 사용한다. 그러나, typescript으로 작성한 파일은 브라우저에서 동작하지 않는다. 따라서, typescript로 작성한 파일을 자바스크립트로 변환해야 하는데, 이를 트랜스파일링 또는 컴파일이라고 한다. 트랜스파일링을 하기 위해서는 typescript 컴파일러를 설치하여 사용하는 typescript 개발환경을 구축해야한다.</p>
<p><br><br><br></p>
<h1 id="typescript-컴파일러-설치-방법"><a href="#typescript-컴파일러-설치-방법" class="headerlink" title="typescript 컴파일러 설치 방법"></a>typescript 컴파일러 설치 방법</h1><hr>
<p>다음과 같이 typescript를 전역에 설치한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g typescript</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p>설치가 완료되면, typescript의 버전 체크를 하여, typescript 컴파일러 설치가 제대로 되었는지 확인한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tsc -v</span><br></pre></td></tr></table></figure></p>
<p><br><br><br></p>
<h1 id="typescript-컴파일러로-트랜스파일링-하기"><a href="#typescript-컴파일러로-트랜스파일링-하기" class="headerlink" title="typescript 컴파일러로 트랜스파일링 하기"></a>typescript 컴파일러로 트랜스파일링 하기</h1><hr>
<p>typescript로 작성된 파일(.ts)을 자바스크립트 파일로 트랜스파일링 하기 위해서는, 위에서 설치한 typescript 컴파일러(tsc)를 사용한다.</p>
<p><br></p>
<h2 id="1개의-파일-트랜스파일링-하기"><a href="#1개의-파일-트랜스파일링-하기" class="headerlink" title="1개의 파일 트랜스파일링 하기"></a>1개의 파일 트랜스파일링 하기</h2><hr>
<p>아래의 코드를 작성하고, 확장자를 .ts로 하는 typescript 파일로 만든다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class Cafe &#123;</span><br><span class="line">  private name: string;</span><br><span class="line"></span><br><span class="line">  constructor(name: string) &#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  greeting() &#123;</span><br><span class="line">    return &quot;Welcome to&quot; + this.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const cafe = new Cafe(&apos;Starbucks&apos;);</span><br><span class="line">console.log(cafe.greeting());</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p>위 typescript 파일을 트랜스파일링하여 자바스크립트로 만들기 위해서는 아래의 명령어를 작성하면 된다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tsc cafe</span><br></pre></td></tr></table></figure></p>
<p>tsc 다음에 위 파일(cafe.ts)의 이름(cafe)을 입력하면 된다.</p>
<p><br></p>
<p>그러면, 트랜스파일링이 되어, 또 하나의 자바스크립트 파일이 생성된다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">exports.__esModule = true;</span><br><span class="line">var Cafe = /** @class */ (function () &#123;</span><br><span class="line">    function Cafe(name) &#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    Cafe.prototype.greeting = function () &#123;</span><br><span class="line">        return &quot;Welcome to&quot; + this.name;</span><br><span class="line">    &#125;;</span><br><span class="line">    return Cafe;</span><br><span class="line">&#125;());</span><br><span class="line">exports.Cafe = Cafe;</span><br><span class="line">var cafe = new Cafe(&apos;Starbucks&apos;);</span><br><span class="line">console.log(cafe.greeting());</span><br></pre></td></tr></table></figure></p>
<p>그런데, 트랜스파일링된 자바스크립트 파일은 ES3 버전으로 생성되는데, 이는 트랜스파일링해서 생성되는 기본 버전이 ES3이기 때문이다.</p>
<p><br></p>
<h2 id="target-컴파일-옵션을-사용해서-원하는-버전으로-트랜스파일링-하기"><a href="#target-컴파일-옵션을-사용해서-원하는-버전으로-트랜스파일링-하기" class="headerlink" title="target 컴파일 옵션을 사용해서 원하는 버전으로 트랜스파일링 하기"></a>target 컴파일 옵션을 사용해서 원하는 버전으로 트랜스파일링 하기</h2><hr>
<p>만약 원하는 버전으로 트랜스파일링 하고 싶다면, typescript 컴파일 옵션중 –target또는 -t를 사용하면 된다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tsc cafe -t es6</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p>ES6 버전은 아래와 같이 나온다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class Cafe &#123;</span><br><span class="line">    constructor(name) &#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    greeting() &#123;</span><br><span class="line">        return &quot;Welcome to&quot; + this.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">const cafe = new Cafe(&apos;Starbucks&apos;);</span><br><span class="line">console.log(cafe.greeting());</span><br></pre></td></tr></table></figure></p>
<p>그러면, 처음에 생성된 ES3 버전의 자바스크립트 파일이 ES6 버전의 자바스크립트 파일로 코드의 내용이 변경된다.</p>
<p><br></p>
<h2 id="2개의-파일-트랜스파일링-하기"><a href="#2개의-파일-트랜스파일링-하기" class="headerlink" title="2개의 파일 트랜스파일링 하기"></a>2개의 파일 트랜스파일링 하기</h2><hr>
<p>2개의 typescript 파일을 작성하여, 트랜스파일링을 해보자.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// cafe.ts</span><br><span class="line">export class Cafe &#123;</span><br><span class="line">  protected name: string;</span><br><span class="line"></span><br><span class="line">  constructor(name: string) &#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  greeting() &#123;</span><br><span class="line">    return &quot;Welcome to&quot; + this.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const cafe = new Cafe(&apos;Starbucks&apos;);</span><br><span class="line">console.log(cafe.greeting());</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// bakery.ts</span><br><span class="line">import &#123; Cafe &#125; from &apos;./cafe&apos;;</span><br><span class="line"></span><br><span class="line">class Bakery extends Cafe &#123;</span><br><span class="line">  bake(): string &#123;</span><br><span class="line">    return `$&#123;this.name&#125; is baking bread. Wow!!`;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const bakery = new Bakery(&apos;Starbucks&apos;);</span><br><span class="line">console.log(bakery.greeting());</span><br><span class="line">console.log(bakery.bake());</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>위 두개의 typescript 파일들을 트랜스파일링 하기 위한 명령어를 작성하면 된다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tsc cafe bakery</span><br></pre></td></tr></table></figure></p>
<p>그러면, 두개의 typescript 파일들이 두개의 자바스크립트 파일로 트랜스파일링 된다.</p>
<p><br></p>
<h2 id="3개-이상의-파일-트랜스파일링-하기"><a href="#3개-이상의-파일-트랜스파일링-하기" class="headerlink" title="3개 이상의 파일 트랜스파일링 하기"></a>3개 이상의 파일 트랜스파일링 하기</h2><hr>
<p>3개 이상의 모든 typescript 파일들을 한번에 트랜스파일링 하기위해서는 와일드카드(*)를 사용해야 한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tsc *.ts</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h2 id="자동으로-트랜스파일링-하기"><a href="#자동으로-트랜스파일링-하기" class="headerlink" title="자동으로 트랜스파일링 하기"></a>자동으로 트랜스파일링 하기</h2><hr>
<p>typescript 컴파일 옵션 중 —watch 또는 -w 를 사용하면, 파일의 내용이 변경되었을 때, 이를 감지하여 자동으로 그 파일이 트랜스파일링 된다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tsc bakery —watch</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/typescript/">typescript</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/typescript/">typescript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/typescript-compiler/">typescript compiler</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-what-is-typescript"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/08/07/what-is-typescript/">typescript란 무엇인가?</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/08/07/what-is-typescript/" class="article-date">
	  <time datetime="2018-08-07T13:36:53.000Z" itemprop="datePublished">August 7, 2018</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/typescript/">typescript</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="typescript란-무엇인가"><a href="#typescript란-무엇인가" class="headerlink" title="typescript란 무엇인가?"></a>typescript란 무엇인가?</h1><hr>
<p>typescript는 자바스크립트에서 좀 더 확장된 언어로, 자바스크립트의 문법을 포함하면서 자바스크립트가 가지고 있는 문제를 보완하기 위한 문법을 가진 언어이다. 2012년에 마이크로소프트에서 발표한 오픈소스로써, C#을 개발한 아네르스 하일스베르가 개발하였다.</p>
<p><img src="/images/typescript-superset.png" alt="Typescript Superset"></p>
<p>위 그림과 같이, 타입스크립트는 ES5, ES6를 모두 포함하는 자바스크립트의 상위집합이기 때문에, 타입스크립트에서 기존의 자바스크립트 문법을 그대로 사용할 수 있다.</p>
<p>또한, 타입스크립트는 아직 ECMAScript 표준에 포함되지는 않았지만(2018년 7월 기준), ECMAScript의 업그레이드에 따른 새로운 기능(스펙)을 계속 추가하기 때문에, ECMAScript의 표준을 따라가는 것처럼 보인다.</p>
<p><br><br><br></p>
<h1 id="typescript를-왜-사용할까"><a href="#typescript를-왜-사용할까" class="headerlink" title="typescript를 왜 사용할까?"></a>typescript를 왜 사용할까?</h1><hr>
<p>C나 JAVA와 같은 C-family 언어와는 다른 자바스크립트만의 특성이 있다.</p>
<ul>
<li>프로토타입 기반 객체지향 언어</li>
<li>스코프와 this</li>
<li>동적 타입 언어</li>
</ul>
<p>이와 같은 특성들은 클래스 기반 객체지향 언어(C, JAVA 등)에 익숙한 개발자에게는 혼란스럽다.<br>또한, 할당하는 값에 따라 타입이 바뀌는 문제도 있어, 꼭 타입 체크를 해줘야 하는 점도 있다.</p>
<p>이런 문제들을 보완하기 위해, 타입스크립트에는 클래스, 정적 타이핑 등이 포함되어있다.</p>
<p>자바스크립트의 프레임워크인 Angular는 주력 언어로 타입스크립트를 채용했기 때문에, Angular를 사용하는 개발자는 타입스크립트를 이해하는 것이 필수적이다. 즉, Angular는 타입스크립트 뿐만 아니라, 자바스크립트, Dart 등으로도 작성이 가능하지만, Angular 사이트에 나와있는 문서나 커뮤니티 활동에서도 가장 많이 사용되고 있어, Angular를 사용하고 싶다면 타입스크립트를 아는 것이 좋다.</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/typescript/">typescript</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/typescript/">typescript</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-how-to-write-posts"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/08/06/how-to-write-posts/">hexo 블로그 포스트 작성 및 배포하는 방법</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/08/06/how-to-write-posts/" class="article-date">
	  <time datetime="2018-08-05T15:37:33.000Z" itemprop="datePublished">August 6, 2018</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/hexo/">hexo</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="hexo-블로그에-포스트-작성-및-배포하는-방법"><a href="#hexo-블로그에-포스트-작성-및-배포하는-방법" class="headerlink" title="hexo 블로그에 포스트 작성 및 배포하는 방법"></a>hexo 블로그에 포스트 작성 및 배포하는 방법</h1><hr>
<p><br></p>
<h2 id="새-포스트-작성을-위한-글제목-명령어를-입력한다"><a href="#새-포스트-작성을-위한-글제목-명령어를-입력한다" class="headerlink" title="새 포스트 작성을 위한 글제목 명령어를 입력한다."></a>새 포스트 작성을 위한 글제목 명령어를 입력한다.</h2><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new option 글제목</span><br></pre></td></tr></table></figure>
<p>이 명령어를 작성하게 되면, 글제목 폴더와 글제목.md 파일이 만들어진다.<br>이미지는 글제목 폴더에서 관리하고, 글의 내용은 글제목.md 파일에서 관리한다.<br>만약, 글제목 폴더가 만들어지지 않는다면, <code>_config.yml</code>에서 <code>post_asset_folder: true</code>를 추가하면 된다.</p>
<p>이때, <code>option</code>에는 ‘post’ 또는 ‘draft’가 올 수 있다.</p>
<p><br></p>
<p>만약 작성한 글을 바로 배포하려면 ‘post’라고 쓴다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new post 글제목</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p>바로 배포하지 않고, 초안으로 보관만 하려고 할 때는 ‘draft’라고 쓴다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new draft 글제목</span><br></pre></td></tr></table></figure></p>
<p><br><br><br></p>
<h2 id="draft-글을-배포하기-위해서-posts-폴더로-이동시킨다"><a href="#draft-글을-배포하기-위해서-posts-폴더로-이동시킨다" class="headerlink" title="draft 글을 배포하기 위해서 _posts 폴더로 이동시킨다."></a>draft 글을 배포하기 위해서 _posts 폴더로 이동시킨다.</h2><hr>
<p>‘draft’를 사용하여 명령어를 입력하게 되면, <code>source/_drafts</code> 폴더에 저장된다.<br>이 폴더에 저장이 되면, 배포 대상에서 제외되기 때문에, 원래 사용하던 ‘hexo server’로는 확인할 수 없고 ‘–draft’라는 옵션을 추가해여 로컬 서버에서 확인이 가능하다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server --draft</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p>초안이 다 완성이 되어 배포를 하고 싶을 경우, 해당 파일과 폴더가 <code>source/_posts</code> 폴더에 있어야 한다.<br>이때, 아래와 같은 명령어를 입력하면 해당 파일과 폴더과 <code>source/_posts</code>로 이동하게 된다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo publish post 글제목</span><br></pre></td></tr></table></figure></p>
<p><br><br><br></p>
<h2 id="posts-폴더에-있는-글을-블로그에-배포한다"><a href="#posts-폴더에-있는-글을-블로그에-배포한다" class="headerlink" title="_posts 폴더에 있는 글을 블로그에 배포한다."></a>_posts 폴더에 있는 글을 블로그에 배포한다.</h2><hr>
<p>최종적으로, <code>source/_posts</code>안에 있는 모든 글들을 배포하기 위해 아래의 명령어를 입력한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo generate --deploy</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/hexo/">hexo</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo-posts/">hexo posts</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-how-to-setup-hexo"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/08/06/how-to-setup-hexo/">hexo를 이용해서 블로그를 설치하는 방법</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/08/06/how-to-setup-hexo/" class="article-date">
	  <time datetime="2018-08-05T15:24:54.000Z" itemprop="datePublished">August 6, 2018</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/hexo/">hexo</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="hexo를-이용해서-블로그-설치하기"><a href="#hexo를-이용해서-블로그-설치하기" class="headerlink" title="hexo를 이용해서 블로그 설치하기"></a>hexo를 이용해서 블로그 설치하기</h1><hr>
<h2 id="hexo-설치하기"><a href="#hexo-설치하기" class="headerlink" title="hexo 설치하기"></a>hexo 설치하기</h2><hr>
<p>hexo 설치하기 위해서는 기본적으로 설치해야할 것이 2가지가 있다.</p>
<ul>
<li><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js</a></li>
<li><a href="https://git-scm.com/" target="_blank" rel="noopener">Git</a></li>
</ul>
<p><br></p>
<p>위 2개를 설치했다면, 먼저 npm을 사용해서 hexo를 설치해야 한다.<br>나같은 경우에는 git을 관리하는 dev 폴더안에서 설치했다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p>본인이 원하는 이름(나의 경우: myblog)으로 hexo init을 하고, npm을 설치한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init myblog</span><br><span class="line">cd myblog</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p>hexo 서버를 통해 구축된 hexo 기본 사이트를 확인한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure></p>
<p>위와 같이 따라서 설치하면 기본적인 hexo 블로그를 로컬 호스트로 구축을 할 수 있다.</p>
<p><br><br><br></p>
<h2 id="Github에서-제공하는-github-io로-사이트-구축하기"><a href="#Github에서-제공하는-github-io로-사이트-구축하기" class="headerlink" title="Github에서 제공하는 github.io로 사이트 구축하기"></a>Github에서 제공하는 github.io로 사이트 구축하기</h2><hr>
<p>hexo 블로그를 사용하기 위해서는 깃헙에서 제공하는 블로그용 깃헙사이트가 필요하다.</p>
<p><br></p>
<p>Github에서 블로그용으로 만들 repo를 생성한다.<br>repo를 username.github.io 이런식으로 만들면 된다.</p>
<p><br></p>
<p>내 컴퓨터로 클론한다.<br>나같은 경우 dev 폴더안에서 클론했다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/cheonmro/cheonmro.github.io.git</span><br></pre></td></tr></table></figure></p>
<p><br><br><br></p>
<h2 id="config-yml에서-세팅하기"><a href="#config-yml에서-세팅하기" class="headerlink" title="_config.yml에서 세팅하기"></a><code>_config.yml</code>에서 세팅하기</h2><hr>
<p>실제 사이트 url로 배포하기 위해 기본적인 세팅이 필요하다.<br>세팅 관련해서는 항상 <code>_config.yml</code>에서 한다.</p>
<p>앞으로 hexo 블로그를 이용해서 작성할 모든 내용들을, 위에서 생성한 블로그용 깃헙에서 관리를 할 것이기 때문에, 아래와 같이 type에 git으로 하고, repository에 자신의 블로그용 깃헙 주소를 작성한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: https://github.com/cheonmro/cheonmro.github.io</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure></p>
<p><br><br><br></p>
<h2 id="구축한-사이트-배포하기"><a href="#구축한-사이트-배포하기" class="headerlink" title="구축한 사이트 배포하기"></a>구축한 사이트 배포하기</h2><hr>
<p>지금까지 구축한 hexo 블로그를 배포(deploy)한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure></p>
<p>위 명령어를 실행하게 되면, 자동으로 commit, push가 되어, 깃헙과 웹사이트(블로그)에 파일들이 generate되어, 기본적인 사이트 구축이 완성되게 된다.(웹사이트 자체를 배포할 때 사용한다.)</p>
<p><br></p>
<p>위에서 구축한 사이트를 직접 확인한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://cheonmro.github.io/</span><br></pre></td></tr></table></figure></p>
<p><br><br><br></p>
<h1 id="hexo-블로그의-테마를-바꾸는-방법"><a href="#hexo-블로그의-테마를-바꾸는-방법" class="headerlink" title="hexo 블로그의 테마를 바꾸는 방법"></a>hexo 블로그의 테마를 바꾸는 방법</h1><hr>
<p>위와 같이, 기본적인 hexo 블로그 설치는 간단한다.<br>기본적으로 <code>themes</code> 폴더안에 있는 <code>landscape</code> 테마를 바탕으로한 기본 사이트가 구축된다.</p>
<p>hexo 블로그에서 테마를 바꾸고 싶을 때는, 원하는 테마를 <code>themes</code> 안에 가져오고, <code>_config.yml</code>에서 theme의 이름만 바꿔주면 된다.</p>
<p>원하는 테마를 <code>themes</code> 폴더안으로 git clone 한다.<br>(나같은 경우는 <a href="https://github.com/iTimeTraveler/hexo-theme-hipaper" target="_blank" rel="noopener">hexo-theme-hipaper</a> 테마를 사용했다.)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/iTimeTraveler/hexo-theme-hipaper.git</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p><code>_config.yml</code>에서 theme 옆에 이름을 새로 변경할 테마의 이름으로 바꾼다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: hexo-theme-hipaper</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p>기존 테마를 지우고, 새로 변경할 테마로 바꾸려면, hexo 블로그를 다시 배포(deploy)해야한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure></p>
<p>위와같이 하면, Github의 파일들이 새로 변경할 테마의 내용들로 바뀌고, 사이트 또한 새롭게 변경된다.</p>
<p><br></p>
<p>만약, “Deployer not found: git” 이라는 에러가 난다면, deployer를 설치하면 된다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<p>그리고, 다시 배포한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/hexo/">hexo</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/">hexo</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/5/">Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/7/">Next</a>
  </nav>

</section>
          <aside id="sidebar">
  
    <div style="margin: 20px 0;">
	<div id="search-form-wrap">

    <form class="search-form">
        <label style="width: 72%;">
            <span class="screen-reader-text">Search for:</span>
            <input type="search" class="search-field" style="height: 36px; width: 100%;" placeholder=" Search…" value="" name="s" title="Search for:">
        </label>
        <input type="submit" class="search-form-submit" value="Search">
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
</div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Connect With Us</h3>
    <div class="widget widget_athemes_social_icons">

    	<ul class="clearfix widget-social-icons">   
    	
   			<li><a href="https://github.com/cheonmro" title="Github"><i class="fa fa-github" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="" title="Weibo"><i class="fa fa-weibo" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="" title="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="" title="Facebook"><i class="fa fa-facebook" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="" title="Google-plus"><i class="fa fa-google-plus" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="" title="Instagram"><i class="fa fa-instagram" aria-hidden="true"></i></a></li> 

   		
   		</ul>


   		<!--
   		<ul class="clearfix widget-social-icons">   		
   		<li class="widget-si-twitter"><a href="http://twitter.com" title="Twitter"><i class="ico-twitter"></i></a></li> 
		<li class="widget-si-facebook"><a href="http://facebook.com" title="Facebook"><i class="ico-facebook"></i></a></li>
			<li class="widget-si-gplus"><a href="http://plus.google.com" title="Google+"><i class="ico-gplus"></i></a></li>
			<li class="widget-si-pinterest"><a href="http://pinterest.com" title="Pinterest"><i class="ico-pinterest"></i></a></li>
			<li class="widget-si-flickr"><a href="http://flickr.com" title="Flickr"><i class="ico-flickr"></i></a></li>
			<li class="widget-si-instagram"><a href="http://instagram.com" title="Instagram"><i class="ico-instagram"></i></a></li>
		</ul> -->

    </div>
  </div>


  
    
  <div class="widget_athemes_tabs">
    <ul id="widget-tab" class="clearfix widget-tab-nav">
      <li class="active"><a>Recent Posts</a></li>
    </ul>
    <div class="widget">
      <ul>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2018/12/22/vue-project/">Vue 프로젝트 Directory 구조</a></h6>
              <span>December 22, 2018</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2018/12/21/what-is-vue/">Vue &amp; MVVM Pattern</a></h6>
              <span>December 21, 2018</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2018/12/18/what-is-stablecoin/">What Is Stablecoin?</a></h6>
              <span>December 18, 2018</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2018/11/19/cryptocurrency-revolution/">암호화폐는 화폐 혁명을 이루어 낼것인가?</a></h6>
              <span>November 19, 2018</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2018/11/19/cryptocurrency-maturity-stage/">금융의 새로운 패러다임, 암호화폐(성숙기)</a></h6>
              <span>November 19, 2018</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2018/11/18/cryptocurrency-growth-stage/">금융의 새로운 패러다임, 암호화폐(성장기)</a></h6>
              <span>November 18, 2018</span>
            </div>

          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithms/">Algorithms</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Blockchain-Market/">Blockchain(Market)</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Blockchain-Tech/">Blockchain(Tech)</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Computer-Science/">Computer Science</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/">ES6</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Javascript/">Javascript</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Network/">Network</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Vue/">Vue</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/typescript/">typescript</a><span class="category-list-count">2</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>

    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/about" class="mobile-nav-link">Me &amp; Projects</a>
  
</nav> -->
    <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2018 Hexo All Rights Reserved.
        
            <span id="busuanzi_container_site_uv">
              本站访客数<span id="busuanzi_value_site_uv"></span>人次  
              本站总访问量<span id="busuanzi_value_site_pv"></span>次
            </span>
          
      </div>
      <div class="site-credit">
        Theme by <a href="https://github.com/iTimeTraveler/hexo-theme-hipaper" target="_blank">hipaper</a>
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");

    wrapdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";


    <!-- headerblur min height -->
    
    
</script>
    
<div style="display: none;">
  <script src="https://s11.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
</div>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<script src="/js/bootstrap.js"></script>
<script src="/js/main.js"></script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-125478847-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->






  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
</body>
</html>
